<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Joachim Wiberg ">
<meta name="description" content="Years ago while looking for a fast init replacement for work, I found Finit. Originally written by Claudio Matsuoka to act as a drop-in replacement for the Asus EeePC fastinit, &amp;ldquo;gaps filled with frog DNA …&amp;rdquo;
Until I found Finit I had always been in awe of those venturing into the realm of PID 1. However, learning from the simplicity of Claudio&amp;rsquo;s code I realized that although PID 1 at times is indistinguishable from magic, it is really not that hard to master. My version of Finit is available on GitHub.
The code is open sourced under the very liberal MIT/X11 license, and much of its frog DNA has proven very useful to me over the years. This blog post is about how that frog DNA can help you fill gaps in your projects …
" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://troglobit.com/2015/07/02/howto-using-lite-with-a-git-based-application/" />


    <title>
        
            HowTo: Using -lite with a GIT-based application :: Joachim Wiberg 
        
    </title>





<link rel="stylesheet" href="https://troglobit.com/main.949191c1dcc9c4a887997048b240354e47152016d821198f89448496ba42e491.css" integrity="sha256-lJGRwdzJxKiHmXBIskA1TkcVIBbYIRmPiUSElrpC5JE=">



    <link rel="apple-touch-icon" sizes="180x180" href="https://troglobit.com/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://troglobit.com/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://troglobit.com/favicon-16x16.png">
    <link rel="manifest" href="https://troglobit.com/site.webmanifest">
    <link rel="mask-icon" href="https://troglobit.com/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="https://troglobit.com/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="HowTo: Using -lite with a GIT-based application">
<meta itemprop="description" content="Years ago while looking for a fast init replacement for work,
I found Finit.  Originally written by Claudio Matsuoka to act
as a drop-in replacement for the Asus EeePC fastinit, &ldquo;gaps
filled with frog DNA …&rdquo;
Until I found Finit I had always been in awe of those venturing into the
realm of PID 1.  However, learning from the simplicity of Claudio&rsquo;s
code I realized that although PID 1 at times is indistinguishable from
magic, it is really not that hard to master.  My version of Finit
is available on GitHub.
The code is open sourced under the very liberal MIT/X11 license,
and much of its frog DNA has proven very useful to me over the years.
This blog post is about how that frog DNA can help you fill gaps in your
projects …"><meta itemprop="datePublished" content="2015-07-02T17:11:55+00:00" />
<meta itemprop="dateModified" content="2015-07-02T17:11:55+00:00" />
<meta itemprop="wordCount" content="382">
<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="HowTo: Using -lite with a GIT-based application"/>
<meta name="twitter:description" content="Years ago while looking for a fast init replacement for work,
I found Finit.  Originally written by Claudio Matsuoka to act
as a drop-in replacement for the Asus EeePC fastinit, &ldquo;gaps
filled with frog DNA …&rdquo;
Until I found Finit I had always been in awe of those venturing into the
realm of PID 1.  However, learning from the simplicity of Claudio&rsquo;s
code I realized that although PID 1 at times is indistinguishable from
magic, it is really not that hard to master.  My version of Finit
is available on GitHub.
The code is open sourced under the very liberal MIT/X11 license,
and much of its frog DNA has proven very useful to me over the years.
This blog post is about how that frog DNA can help you fill gaps in your
projects …"/>



    <meta property="og:title" content="HowTo: Using -lite with a GIT-based application" />
<meta property="og:description" content="Years ago while looking for a fast init replacement for work,
I found Finit.  Originally written by Claudio Matsuoka to act
as a drop-in replacement for the Asus EeePC fastinit, &ldquo;gaps
filled with frog DNA …&rdquo;
Until I found Finit I had always been in awe of those venturing into the
realm of PID 1.  However, learning from the simplicity of Claudio&rsquo;s
code I realized that although PID 1 at times is indistinguishable from
magic, it is really not that hard to master.  My version of Finit
is available on GitHub.
The code is open sourced under the very liberal MIT/X11 license,
and much of its frog DNA has proven very useful to me over the years.
This blog post is about how that frog DNA can help you fill gaps in your
projects …" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://troglobit.com/2015/07/02/howto-using-lite-with-a-git-based-application/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-07-02T17:11:55+00:00" />
<meta property="article:modified_time" content="2015-07-02T17:11:55+00:00" />





    <meta property="article:section" content="HowTo" />

    <meta property="article:section" content="opensource" />

    <meta property="article:section" content="Git" />

    <meta property="article:section" content="submodules" />



    <meta property="article:published_time" content="2015-07-02 17:11:55 &#43;0000 UTC" />











    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://troglobit.com/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">&gt;</span>
            <span class="logo__text ">
                $ cd /home/</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://troglobit.com/about/">About</a></li><li><a href="https://troglobit.com/posts/">Blog</a></li><li><a href="https://troglobit.com/howtos/">HowTos</a></li><li><a href="https://troglobit.com/projects/">Projects</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        2 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://troglobit.com/2015/07/02/howto-using-lite-with-a-git-based-application/">HowTo: Using -lite with a GIT-based application</a>
      </h1>

      

      

      

      <div class="post-content">
        <p>Years ago while looking for a fast <a href="https://en.wikipedia.org/wiki/Init">init</a> replacement for <a href="http://westermo.com/">work</a>,
I found <a href="http://helllabs.org/finit/">Finit</a>.  Originally written by <a href="https://github.com/cmatsuoka">Claudio Matsuoka</a> to act
as a drop-in replacement for the <a href="https://en.wikipedia.org/wiki/Asus_Eee_PC">Asus EeePC</a> <a href="http://wiki.eeeuser.com/boot_process:the_boot_process">fastinit</a>, <em>&ldquo;gaps
filled with frog DNA …&rdquo;</em></p>
<p>Until I found Finit I had always been in awe of those venturing into the
realm of <a href="http://0pointer.net/blog/">PID 1</a>.  However, learning from the simplicity of Claudio&rsquo;s
code I realized that although PID 1 at times is indistinguishable from
magic, it is really not that hard to master.  <a href="https://github.com/troglobit/finit">My version of Finit</a>
is available on GitHub.</p>
<p>The code is open sourced under the very liberal <a href="http://opensource.org/licenses/MIT">MIT/X11 license</a>,
and much of its frog DNA has proven very useful to me over the years.
This blog post is about how that frog DNA can help you fill gaps in your
projects …</p>
<p>Recently I broke out the most generic pieces from Finit into a separate
library, which I call <a href="https://github.com/troglobit/libite">libite</a> (because it looks awesome linking to
it: <code>-lite</code> :) I complemented it with a few pieces of my own and some
from the <a href="http://www.openbsd.org/">OpenBSD</a> project, most notably their famous string API:
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strlcpy">strlcpy(3)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strlcpy">strlcat(3)</a>.  Also included is the very useful
*BSD linked list API <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/LIST_EMPTY.3">sys/queue.h</a>, which is a much more up to date
version than GLIBC carries.  For example, the new <code>_SAFE</code> macros are
missing, which you want to use while traversing lists to delete/free
nodes.</p>
<p>To make use of <code>-lite</code> and its APIs you can either build it as a
separate library and install <code>lite.h</code> and <code>libite.so.1</code> to your system,
or add <code>libite</code> as a GIT submodule to your project and use only the
parts you need from the archive:</p>
<pre><code>git submodule add https://github.com/troglobit/libite.git
</code></pre>
<p>You then need to add <code>#include &quot;libite/lite.h&quot;</code> to the source and adapt
your Makefile slightly to call the <code>libite/Makefile</code> before linking your
application to the <code>libite.a</code> archive:</p>
<pre><code>all: $(EXEC) libite/libite.a

libite/libite.a: Makefile
        @$(MAKE) -C libite

$(EXEC): $(OBJS) libite/libite.a
        @gcc -o $@ $^
</code></pre>
<p>For an example of how this can look, see the <a href="https://github.com/troglobit/uftpd">uftpd</a> project, which
uses both <code>-lite</code> and <code>-luev</code>.  The latter is my small event library,
<a href="https://github.com/troglobit/libuev">libuEv</a>.  For help using <code>-lite</code> with the GNU configure and build
system, see <a href="https://github.com/troglobit/inadyn">inadyn</a>.</p>
<p>Libite builds in &ldquo;silent mode&rdquo; by default, use <code>make V=1</code> (like the
kernel) to get a more verbose output, usable for autobuilders etc.</p>
      </div>
    </article>

    <hr />

    <div class="post-info">
      
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="https://troglobit.com/categories/howto/">HowTo</a></span>
        <span class="tag"><a href="https://troglobit.com/categories/opensource/">opensource</a></span>
        <span class="tag"><a href="https://troglobit.com/categories/git/">Git</a></span>
        <span class="tag"><a href="https://troglobit.com/categories/submodules/">submodules</a></span>
        
    </p>


      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        382 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2015-07-02 19:11
        

         
          
        
      </p>
    </div>

    
    <div class="pagination">
        

        <div class="pagination__buttons">
            
            <span class="button previous">
                <a href="https://troglobit.com/2015/09/09/summer-of-code-2015/">
                    <span class="button__icon">←</span>
                    <span class="button__text">Summer of Code 2015</span>
                </a>
            </span>
            

            
            <span class="button next">
                <a href="https://troglobit.com/2015/07/01/howto-push-to-multiple-git-repos-with-one-command/">
                    <span class="button__text">HowTo: Push to multiple GIT repos with one command</span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

    

  </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2006</span>
            <span><a href="https://troglobit.com/">Joachim Wiberg</a></span>
            <span>UNIX&trade; 4Life! &#9994;</span>
            
            
        </div>
    </div>
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="https://troglobit.com/bundle.min.46e438bd2eca7eb6358c700b40f6f56b22ab0b92503ecc11a2d8e4bcc610b8b4da83e5ea3d3e84fdb5f3c3c765744b9f5bbaf43cf5a027910be07ee39a9c12a1.js" integrity="sha512-RuQ4vS7KfrY1jHALQPb1ayKrC5JQPswRotjkvMYQuLTag&#43;XqPT6E/bXzw8dldEufW7r0PPWgJ5EL4H7jmpwSoQ=="></script>




    </body>
</html>
