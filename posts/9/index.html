
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Troglobit</title>
  <meta name="author" content="Joachim Nilsson">

  
  <meta name="description" content="Another day another release, I guess. :-) Lots of small fixes &mdash; it can now be cross-built for Arm (Xscale)
without any serious warnings. Get it &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://troglobit.github.io/posts/9">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Troglobit" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/favicon.png" rel="icon">
<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Troglobit</a></h1>
  
    <h2>Embedded network systems hacker. Multicast maniac.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="troglobit.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="http://resume.troglobit.com">Resume</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="http://git.troglobit.com">GIT</a></li>
  <li><a href="/finit.html">Finit</a></li>
  <li><a href="/inadyn.html">Inadyn</a></li>
  <li><a href="/smcroute.html">SMCRoute</a></li>
  <li><a href="/mrouted.html">mrouted</a></li>
  <li><a href="/pimd.html">pimd</a></li>
  <li><a href="/uftpd.html">uftpd</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/09/minix-editline-v0-dot-1-4/">Minix Editline v0.1.4</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2008-06-09T00:49:22+02:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>9</span><span class='date-suffix'>th</span>, <span class='date-year'>2008</span></span> <span class='time'>12:49 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Another day another release, I guess. :-)</p>

<p>Lots of small fixes &mdash; it can now be cross-built for Arm (Xscale)
without any serious warnings.  Get it from the usual FTP location:</p>

<ul>
<li>http://ftp.vmlinux.org/pub/People/jocke/minix-editline/</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/08/minix-editline-v0-dot-1-1/">Minix Editline v0.1.1</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2008-06-08T00:56:22+02:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2008</span></span> <span class='time'>12:56 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Hot on the heels of the first one, only minor build fixes but this one
should actually be usable by others.  Now installs both library, include
file and man page into the given <code>--prefix</code>.</p>

<ul>
<li>http://ftp.vmlinux.org/pub/People/jocke/minix-editline/</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/07/minix-editline-v0-dot-1-0/">Minix Editline v0.1.0</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2008-06-07T21:45:05+02:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2008</span></span> <span class='time'>9:45 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve been looking long and hard for a small and useful <a href="http://www.gnu.org/software/readline/">GNU readline</a>
replacement.  Oddly enough, all the time I was looking for one I never
even once considered looking at the <a href="http://www.minix3.org/">Minix</a> sources!</p>

<p>Currently I&#8217;m using the NetBSD <a href="http://thrysoee.dk/editline/">editline derivative</a> (readline
compatible) from <a href="http://thrysoee.dk/">Jess Thrysoee</a>, but it requires ncurses, which is
huge!</p>

<p>All I really wanted was a bare bones <code>readline()</code> suitable for small
embedded systems.  One which could record history and preferably, but
not required to, support completion.</p>

<p>OK, so yesterday I found the Minix editline implementation, written
years ago by Simmule Turner and Rich Salz. My hat is off to you guys,
you rock!</p>

<p>Here&#8217;s my first packaged version for Linux:</p>

<ul>
<li>http://ftp.vmlinux.org/pub/People/jocke/minix-editline/</li>
</ul>


<p>All I have done, so far, is to move around the files a bit and add the
standard <a href="http://mij.oltrelinux.com/devel/autoconf-automake/">GNU configure and build system</a>.  It now builds and runs
perfectly on my laptop, next step is to cross-build it for a couple of
embedded ARM targets.</p>

<p>I do all development using <a href="http://www.bazaar-vcs.org/">GNU Bazaar</a>. If you want to join in, then
branch from the following public URL:</p>

<pre><code> bzr branch http://vmlinux.org/jocke/bzr/minix-editline 
</code></pre>

<p>Patches and ideas are welcome!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/02/24/enterprise-emacs/">Enterprise Emacs</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2008-02-24T09:59:19+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2008</span></span> <span class='time'>9:59 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Many years ago I discovered the beauty in a beast called <a href="http://www.gnu.org/software/emacs/">Emacs</a>.  I
am actually a frequent user of both Emacs and <a href="http://www.vim.org">Vim</a>, but I firmly
belive in the notion of <a href="http://pragmaticprogrammer.com/the-pragmatic-programmer/extracts/tips">learning one editor well</a>:</p>

<blockquote><p>&#8220;The editor should be an extension of your hand; make sure your editor
is configurable, extensible, and programmable.&#8221; &mdash;&nbsp;<a href="http://pragmaticprogrammer.com/the-pragmatic-programmer/extracts/tips">The Pragmatic Programmer</a></p></blockquote>

<p>At the many jobs I have had, colleagues often glanced over my shoulder
and said; &#8220;Oh, Emacs&nbsp;&#8230; Yeah I used that ages ago when I was
working on UNIX&nbsp;&#8230;&#8221;, often they remember it fondly, sometimes for
all the quirky keyboard shortcuts.  Very few know that it is still being
actively developed.</p>

<p>Emacs can be quite counter intuitive and sometimes even an outright pain
to use.  I find it a shame that still today, after (literally) decades
there are no sane defaults.  Once, when I was still forced to use
Windows, I saw a setup wizard in <a href="http://ntemacs.sourceforge.net/">Win32-Emacs</a> that resembled what I
would like to have — a sort of use cases possible to chose from.  It may
have been some extension that was maintained in some non-official
version, because now when I look for it I cannot find it.  But why not
have a setup wizard in the upstream distribution of Emacs as well?</p>

<p>Well, this is my gripe, the pieces of Emacs that are still unfriendly to
users, and mostly new users, coming from Windows or MAC.  I will use
this blog to present ideas and small things I have done to make Emacs
more user friendly.  I call this <em>Enterprise Emacs</em>.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2008/02/24/enterprise-emacs/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/02/23/suspend-slash-resume-nightmare-in-ubuntu/">Suspend/Resume Nightmare in Ubuntu</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2008-02-23T20:34:44+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>23</span><span class='date-suffix'>rd</span>, <span class='date-year'>2008</span></span> <span class='time'>8:34 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve had my ThinkPad T43 for a while now and I&#8217;m really pleased with it,
everything just works!  It took some pleading and, I admit, begging to
persuade my boss and the IT department to buy it since they usually only
buy from Dell or HP.  This was mainly due to care packs and payment plans
that these suppliers offer companies.  My ThinkPad they had to actually
pay for straight up.  So if I were a Lenovo sales person, that was
something I would fix to boost my sales.</p>

<p>This post is however not about sales, brands of laptops or how the cat
ate my homework &#8230; well, OK, almost.  Ubuntu/Gnome ate my resume!</p>

<p>When I initially installed the laptop, early 2006, I went with
Ubuntu 5.10.  Ubuntu is great Linux dist!  Ubuntu is to Debian what
Mandrake was to RedHat in the beginning: RedHat + all the tweaks you
usually had to apply.</p>

<p>I remember the first install, it was a Breeze!  All features and extras
of the laptop was of course not working.  After some digging I found a
few pages detailing what to do to get things like susped, hibernate and
such working.  A couple of hours later everything was working!  Cool,
that had to be the first computer where I actually bothered setting it
all up.</p>

<p>Now, two years later I run 7.10 and I am less than happy.  All upgrades
have made this laptop a complete mess.  Each upgrade has failed to
integrate the necessary changes I made and simply installed the new
default settings from each package.  OK, I can live with that.  But I was
starting to really miss having no suspend, so the last four months I
have been working on fixing it all again.</p>

<p>It turns out that if I run the script <code>/etc/acpi/suspend.sh</code> manually
from the prompt suspend and resume works fine, even with X.  But when I
press Fn-F4 from within X or select &#8220;Suspend&#8221; from the Gnome &#8220;logout&#8221;
menu the machine happily goes to sleep but always fails at resume.  I
always get a black screen!</p>

<p>Why is it so complicated?  I really don&#8217;t understand.  What is it doing?</p>

<p>OK, so I started digging.  The Fn-F4 button didn&#8217;t work in the console
so that seemed like a first thing to investigate.  I started
<code>acpi_listen</code> and pressed Fn-F4, bingo!  It returned a key press.  A
grep later and I had found it in <code>/etc/acpi/events/ibm-sleepbtn</code>,
alright!  Simple syntax, seems it looks for the ThinkPad sleep button
and then sends another new combination <code>$KEY_SLEEP</code>, wtf?</p>

<p>I changed the action to call <code>/etc/acpi/sleep.sh</code>, restarted the ACPI
stuff and, yes it works!  At least from the console, not from X/Gnome.
Aha, so we have a Gnome app that does magic things, HAL +
gnome-power-manager.</p>

<p>I didn&#8217;t get any further.  Removing gnome-power-manager fixed my
problem, I can now press Fn-F4 from Gnome, close the lid, come back the
next morning and sucessfully resume when opening the lid again.</p>

<p>So, the question is, wtf is gnome-power-manager doing and why do I have
to learn this stuff all over again every time I upgrade?</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/07/31/bzrweb-0-dot-1-2-released/">Bzrweb 0.1.2 Released</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2007-07-31T23:33:01+02:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>31</span><span class='date-suffix'>st</span>, <span class='date-year'>2007</span></span> <span class='time'>11:33 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The end of my own &#8220;summer of code&#8221; is here.  Seriously, this summer I
took it upon myself to clean up my act and move whole heartedly to the
<a href="http://www.bazaar-vcs.org/">Bazaar</a> version control system for <a href="https://web.archive.org/web/20090601005547/http://vmlinux.org/jocke/bzr/">my private projects</a>.
Needless to say, I didn&#8217;t get far.</p>

<p>Being quite lazy I haven&#8217;t upgraded this server yet to the latest shiny
Debian 4.0.  This made it a bit hard to setup the new shiny
<a href="https://web.archive.org/web/20090601005547/http://www.lag.net/loggerhead/">Loggerhead web gui</a> (see it in action <a href="https://web.archive.org/web/20090601005547/http://codebrowse.launchpad.net/~mwhudson/loggerhead/production/changes">here</a>) for Bazaar &mdash;
so instead I started fixing up the <a href="https://web.archive.org/web/20090601005547/http://mccormick.cx/dev/bzrweb/">old bzrweb</a> that I already had
setup a few years ago.</p>

<p>I&#8217;m new to Python, but, as I said, I&#8217;m quite lazy and Python seemed to
suit me perfectly.  Whipping up Bzrweb to support the bzr 0.15 I had on
my laptop (Ubuntu 7.04) was just enough to fiddle with in the warm
summer evenings of my vacation.  Now I find myself really enjoying
Python. :-)</p>

<p>So I decided to try and take up maintainership of Bzrweb.  I like it for
its simplicity and small list of dependencies (only Python 2.4).  Which
is something I will honor and continue to evolve.</p>

<p>Oh well, <a href="ftp://vmlinux.org/pub/bzrweb/">here it is</a>:</p>

<ul>
<li><a href="ftp://vmlinux.org/pub/bzrweb/bzrweb-0.1.2.tar.gz">bzrweb-0.1.2.tar.gz</a> (<a href="ftp://vmlinux.org/pub/bzrweb/bzrweb-0.1.2.tar.gz.md5sum">md5sum</a>)</li>
<li>Release Notes: <a href="ftp://vmlinux.org/pub/bzrweb/ReleaseNotes-0.1.2.txt">[TXT]</a> <a href="ftp://vmlinux.org/pub/bzrweb/ReleaseNotes-0.1.2.pdf">[PDF]</a></li>
</ul>


<p>No GPG signing yet, I&#8217;ve yet to figure out how GPG works, again.</p>

<p>Bug reports can be sent to me directly, see my address in the tarball or
<a href="https://web.archive.org/web/20090601005547/http://vmlinux.org/jocke/bzr/">online</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/07/12/netapplet-patchwork/">Netapplet Patchwork</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2007-07-12T11:37:38+02:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>12</span><span class='date-suffix'>th</span>, <span class='date-year'>2007</span></span> <span class='time'>11:37 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I think I&#8217;ve finally done it &mdash; achieved my ultimate goal of
combining the awesome powers of the Debian <code>/etc/network/interfaces</code>
file with <code>guessnet</code>, <code>wpa_supplicant</code>, <code>ifplugd</code> and now also with
netapplet!</p>

<p>I&#8217;ve been looking for a way to just point-and-click to select a
different access point, both at home and at work.  To that end I have a
pretty advanced interfaces file that automatically detects where I am,
what I am connected with (cable/wireless) and then, like magic, sets it
all up.</p>

<p>Several times now I have tried, really hard, to get used to and live my
life with <a href="http://www.gnome.org/projects/NetworkManager/">Network Manager</a>, but it&#8217;s just plain impossible.  It
still doesn&#8217;t integrate well with Debian ifupdown et consortes and until
now I&#8217;ve been using <code>ifup</code> to select different wireless mappings:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo ifdown eth2; sudo ifup eth2=WLAN
</span><span class='line'>Password: ***********
</span><span class='line'>[Use crappy work AP to access VPN tunnel]
</span><span class='line'>$ sudo ifdown eth2; sudo ifup eth2=NETLET
</span><span class='line'>Password: ***********
</span><span class='line'>[Use family WRT54GL access point]</span></code></pre></td></tr></table></div></figure>


<p>For the last couple of days I&#8217;ve been looking into getting the old
(obsoleted?) Netapplet from Novell.  Since I&#8217;m a Ubuntu user I&#8217;m using
the Debian patched-up version by <a href="http://mjg59.livejournal.com/">Matthew Garrett</a> (thanks!).  I
remember using it a couple of years back, at that time I think it worked
but now it didn&#8217;t &mdash; not well at least.  I found several bugs and
quirks that I have now fixed and published in my own &#8220;repository&#8221;.</p>

<p>I have published everything as a Bazaar branch, one changeset per patch
(small patches), at <a href="https://web.archive.org/web/20090528101921/http://vmlinux.org/jocke/bzr/netapplet-1.0.8/">http://vmlinux.org/jocke/bzr/netapplet-1.0.8</a>,
which can be viewed <a href="https://web.archive.org/web/20090528101921/http://vmlinux.org/jocke/bzr/">here</a> using bzrweb.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/07/11/making-bzrweb-work-again/">Making Bzrweb Work Again</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2007-07-11T10:35:00+02:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>11</span><span class='date-suffix'>th</span>, <span class='date-year'>2007</span></span> <span class='time'>10:35 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>During the past weekend and the last couple of evenings I&#8217;ve been
studying the Python code in bzrweb &mdash; which I&#8217;ve been using for
online repository browsing.  It broke sometime last year due to not
keeping up with the development of bzr.  Yesterday I got it working
again!</p>

<ul>
<li>Browse: <a href="https://web.archive.org/web/20090601005547/http://vmlinux.org/jocke/bzr/">http://vmlinux.org/jocke/bzr/</a></li>
<li>Branch: <code>bzr branch http://vmlinux.org/jocke/bzr/bzrweb</code></li>
</ul>


<p>Having only programmed Python very little earlier I must say that it&#8217;s
really easy to get in to.  I usually hack scripts in sh or Perl, but
Python is really something that could be used for real programs.</p>

<p>I plan on doing some more bzrweb hacking later.  I&#8217;m not sure yet what
it&#8217;ll be, but I guess a file-view would be useful, plus some minor CSS
cleanup.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/07/07/buggy-gnome-main-menu/">Buggy Gnome Main Menu</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2007-07-07T09:52:17+02:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2007</span></span> <span class='time'>9:52 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve been living with the new Gnome Main Menu for a while now.  Like many
others I run Ubuntu these days and I&#8217;ve found the version in Feisty Fawn
to be extremely slow and buggy.</p>

<p>I tried manually installing (<code>dpkg -i</code>) the latest version in Gutsy, but
it had too many dependencies.  So I decided to try and backport it, and
it worked!</p>

<p>I haven&#8217;t set up any repository, so just download the below two <code>.deb</code>
files and install them with <code>sudo dpkg -i *.deb</code> in a terminal window:</p>

<ul>
<li><a href="http://vmlinux.org/jocke/debian/libslab0_0.9.8.svn.20070430-1ubuntu1_i386.deb">libslab-0.9.8.deb</a></li>
<li><a href="http://vmlinux.org/jocke/debian/gnome-main-menu_0.9.8.svn.20070430-1ubuntu1_i386.deb">gnome-main-menu-0.9.8.deb</a></li>
</ul>


<p>The <code>md5sums</code> for these files are:</p>

<pre><code>3f0a962ffdd2974663f2f425eed5f541   libslab0_0.9.8.svn.20070430-1ubuntu1_i386.deb
1d11fcace33bab707e28c230c85ea1ba   gnome-main-menu_0.9.8.svn.20070430-1ubuntu1_i386.deb
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/03/25/vmware-kernel-modules-for-your-new-kernel/">VMWare Kernel Modules for Your New Kernel</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2007-03-25T23:59:57+02:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2007</span></span> <span class='time'>11:59 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>My recent post on building Debian kernels misses a subtle but useful
point.  Namely that of building Debian kernel modules alongside your new
kernel.  I wanted to run a new kernel with the Ubuntu
vmware-player-kernel-source package.  I was fumbling around wanting to
use <code>module-assistant</code> to do this for me when I stumbled upon on the
solution, <a href="http://ubuntuforums.org/showthread.php?p=1266060#post1266060">presented so eloquently by my friend Albert Veli</a>.  This
gives us a small update to the previous post:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ wget ftp://ftp.sunet.se/pub/Linux/kernels/v2.6/patch-2.6.20.4.bz2
</span><span class='line'>$ cd linux-2.6.20/
</span><span class='line'>$ bzcat ../patch-2.6.20.4.bz2 | patch -p1
</span><span class='line'>$ cd ../
</span><span class='line'>$ mv linux-2.6.20 linux-2.6.20.4
</span><span class='line'>$ cd linux-2.6.20.4
</span><span class='line'>$ make oldconfig
</span><span class='line'>$ fakeroot make-kpkg clean
</span><span class='line'>$ fakeroot make-kpkg --initrd kernel_image
</span><span class='line'>$ sudo dpkg -i ../linux-image-2.6.20.4_2.6.20.4-7.troglobit_i386.deb</span></code></pre></td></tr></table></div></figure>


<p>Next up is installing and building the vmware-player-kernel-source:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo apt-get install vmware-player-kernel-source
</span><span class='line'>$ cd /usr/src
</span><span class='line'>$ sudo tar xvfj vmware-player-kernel-source.tar.bz2
</span><span class='line'>$ cd -
</span><span class='line'>$ cd linux-2.6.20.4
</span><span class='line'>$ fakeroot make-kpkg modules_clean
</span><span class='line'>$ fakeroot make-kpkg modules_image
</span><span class='line'>$ sudo dpkg -i  ../vmware-player-kernel-modules-2.6.20.4_2.6.20.4-7.troglobit_i386.deb</span></code></pre></td></tr></table></div></figure>


<p>You may, of course, need to tweak the file <code>/etc/kernel-pkg.conf</code>, but
there are man pages for that.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/10">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/8">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Projects</h1>
  <ul>
    <li><a href="/finit.html">Fast Init Replacement</a></li>
    <li><a href="/inadyn.html">Inadyn DDNS Client</a></li>
    <li><a href="/smcroute.html">SMCRoute Static Multicast Routing</a></li>
    <li><a href="/mrouted.html">The Original Multicast Routing Daemon</a></li>
    <li><a href="/pimd.html">The Original PIM-SM Daemon</a></li>
    <li><a href="/uftpd.html">Micro TFTP/FTP Daemon</a></li>
    <li><a href="/tetris.html">Micro Tetris&trade;</a></li>
    <li><a href="/snake.html">Micro Snake</a></li>
    <li><a href="/editline.html">Minix Editline</a></li>
    <li><a href="/mini-snmpd.html">Mini-SNMPd</a></li>
  </ul>
</section>
<section>
  <h1>HowTos</h1>
  <ul>
    <li><a href="/multicast-howto.html">Multicast</a></li>
    <li><a href="/blog/2014/09/23/howto-add-multicast-routing-support-to-the-freebsd-kernel/">Add MROUTING support on FreeBSD</a></li>
    <li><a href="/howto-run-pimd-on-openbsd.html">Run pimd on OpenBSD</a></li>
    <li><a href="/howto-run-pimd-on-freebsd.html">Run pimd on FreeBSD</a></li>
    <li><a href="/howto-netbsd-pkgsrc.html">Use pre-build packages on NetBSD</a></li>
    <li><a href="/howto-play-with-snmp.html">Play with SNMP</a></li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/11/14/useful-unix-api-s/">Useful UNIX API:s</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/11/13/en-vanlig-dag-pa-jobbet-swedish/">En Vanlig Dag På Jobbet (SWEDISH)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/11/10/awesome-changing-next-slash-prev-tune-in-spotify/">Awesome: Changing Next/Prev Tune in Spotify</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/11/07/stray-puppies/">Stray Puppies</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/09/09/summer-of-code-2015/">Summer of Code 2015</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/troglobit">@troglobit</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'troglobit',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
  <h1>Latest Tweets</h1>

  <a class="twitter-timeline" data-dnt="true"
     href="https://twitter.com/troglobit"
     data-widget-id="365667052100415488">Tweets by @troglobit</a>
  <script>!function(d,s,id){var
    js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Joachim Nilsson -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
