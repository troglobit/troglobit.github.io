
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Troglobit</title>
  <meta name="author" content="Joachim Nilsson">

  
  <meta name="description" content="It&rsquo;s been a long time coming, but here it finally is,
Finit
v1.8! The goodies we&rsquo;ve
been waiting for are: Runlevels Multiple TTYs One- &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://troglobit.github.io/posts/4">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Troglobit" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/favicon.png" rel="icon">
<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Troglobit</a></h1>
  
    <h2>&#8220;Elegance is not a dispensable luxury&#8221; &mdash; Edsger Wybe Dijkstra</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="troglobit.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/finit.html">Finit</a></li>
  <li><a href="/inadyn.html">Inadyn</a></li>
  <li><a href="/smcroute.html">SMCRoute</a></li>
  <li><a href="/mrouted.html">mrouted</a></li>
  <li><a href="/pimd.html">pimd</a></li>
  <li><a href="/uftpd.html">uftpd</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/08/finit-v1-dot-8/">Finit v1.8</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-06-08T00:04:00+02:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>12:04 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It&rsquo;s been a long time coming, but here it finally is,
<a href="/finit.html">Finit</a>
<a href="ftp://troglobit.com/finit/finit-1.8.tar.xz">v1.8</a>!  The goodies we&rsquo;ve
been waiting for are:</p>

<ul>
<li> Runlevels</li>
<li> Multiple TTYs</li>
<li> One-shot tasks</li>
</ul>


<p>Let&rsquo;s start off with tasks.  Tasks are one-shot commands, with a
syntax like service directives, but are not monitored and respawned
like services.  Tasks are started in parallel, just like services.
For some cases, like the system bootstrap phase, some tasks may need
to be executed in sequence, and for that purpose there also exists a
run command.  Run commands are executed in the order listed in
finit.conf and will run until completion before continuing with the
next task or service.</p>

<p>Multiple TTYs is another neat feature.  Similar to services many TTYs
can be started and automatically be respawned when a user logs out.
For embedded targets wanting to save CPU cycles usually one TTY is the
system console.  Use the console command to point to a defined TTY to
activate &ldquo;Press any key to activate this console.&rdquo;</p>

<p>Finally, runlevels!  This is the key feature in this release of Finit.
Adding the flexibility from SysV init, without the complexity.  This
is one of the key points of Finit &ndash; it should be simple!</p>

<p>   finit.conf:
     service [2345] /usr/sbin/sshd -D &ndash; OpenSSH Daemon</p>

<p>This command tells Finit that the OpenSSH daemon should only run in
runlevel 2-5.  Finit will also respawn sshd if it should crash, just
like before.</p>

<p>Runlevels are needed in use-cases in many embedded devices.  E.g.,
bootstrap, upgrading, and regular operation.  It is completely up to
the system administrator to setup the runlevels of the product or
installation.  At boot runlevel &rsquo;S&#8217; runs, well before any networking
is up.  This is used to to one-time probing and setup of the
system. When done the runlevel defined in finit.conf, or the default
2, is started.</p>

<p>See the
<a href="https://github.com/troglobit/finit/blob/master/README.rst">README</a>
for more information, or the code for the full details.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/07/proof-of-life/">Proof of Life</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-06-07T22:31:00+02:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>10:31 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There is a certain &ldquo;burstyness&rdquo; to the way I work on my open source
projects.  It seems it often coincides with intense work loads during
new release cycles at <a href="http://www.westermo.com">work</a>.</p>

<p>However, I&rsquo;ve just finished restoring two pages that got lost in the
big server crash:</p>

<ul>
<li> <a href="/mrouted.shtml">mrouted</a></li>
<li> <a href="/pimd.shtml">pimd</a></li>
</ul>


<p>Big thanks goes to the <a href="http://www.archive.org">Wayback Machine</a> for
maintaining records of the original pages I lost!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/17/resurrection/">Resurrection</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-02-17T13:37:00+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>17</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>1:37 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Quite some time has passed now since our old site, <a href="http://vmlinux.org,">http://vmlinux.org,</a>
crashed and burned, and with it much of my previous Open Source work
and blogs.  Tech blog entries, archives for the projects I maintain,
lost.</p>

<p>Backups? Of course not.</p>

<p>This all happened in 2011.  Since then we also managed to lose the
domain and I kind of lost myself for a while, including my motivation.</p>

<p>Fortunately, at this point in time I had migrated most of my projects
from CVS and Subversion to DVCS&#8217; like Bzr and GIT, so I could easily
setup new homes for most of my Open Source projects at
<a href="https://github.com/troglobit">GitHub</a>.</p>

<p>Recently however GitHub stopped serving downloads, so even though I
can continue using it for version control, I had to find a new way of
serving generated tarballs and the like.  See <a href="ftp://troglobit.com">my
FTP</a> for project downloads.</p>

<p>I had also started missing blogging for some reason. So it started to
make sense to roll something on my own again.  Well, here&rsquo;s me
starting over.</p>

<p>See you soon with more posts about open source projects, releases of
projects I maintain, Emacs tips, and ramblings about techie stuff I
like!  :-)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/05/18/howto-setup-and-run-xen/">Howto Setup and Run Xen</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2009-05-18T01:51:42+02:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>18</span><span class='date-suffix'>th</span>, <span class='date-year'>2009</span></span> <span class='time'>1:51 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is an extremly brief and quick <a href="http://www.xenproject.org/">Xen</a>
tutorial. There are lots of them already, see your <DISTRIBUTION> wiki,
HowtoForge or other places for a starter guide. This particular HowTo
deals with setting up Xen as easy as possible using Ubuntu 8.04 LTS as
host operating system (dom0 in Xen terms) and Ubuntu 9.04 as guest
operating systems (domU in Xen lingo).</p>

<p>Ubuntu 8.04 LTS comes with a Xen kernel that can run as dom0. This is
quite important, so pay attention to setting that up correctly. For this
I recommend the
<a href="http://howtoforge.org/high-performance-xen-on-ubuntu-8.04-amd64">HowtoForge Tutorial</a>.</p>

<p><em>Note:</em> you will need to upgrade the default Xen 3.2 to 3.3 to be able
to run the latest distributions as guest OS. See this
<a href="https://answers.launchpad.net/ubuntu/+question/50326">Ubuntu question</a>
for more insight. To get Xen 3.3, simply activate the Hardy backports
repository in your <code>/etc/apt/sources.list</code> and, as usual, pay attention
to your <code>/boot/grub/menu.lst</code> so that it points out the Xen 3.3 image in
the <code>defaults=</code> option.</p>

<p>When done with the basic setup you should install pygrub on your host,
this is a truly magic piece of software that makes it possible to boot
all guests using their own kernel and modules.  See the
<a href="http://wiki.debian.org/PyGrub">Debian wiki</a> for some details on install
and setup.  Then ignore what you read and do like this:</p>

<pre><code># /var/lib/xend/domains/example/config.sxp - Xen domU example.
# Note the order of partitions in disk=[], the first listed partition
# is the partition where your /boot (grub) resides. 
bootloader  = '/usr/bin/pygrub'

builder     = 'linux'
memory      = '2048'
root        = '/dev/xvda1 ro'

disk        = [
  'phy:/dev/disk/by-uuid/df3418f5-2fc3-443c-8e64-4395828dc678,xvda1,w',
  'phy:/dev/disk/by-uuid/acecf01e-c4d9-4a7b-b18a-681c69f71173,xvda2,w',
]

name        = 'example'

vif         = [ 'bridge=eth1' ]
dhcp        = "off"
ip          = "12.34.56.78"
netmask     = "255.255.255.252"
gateway     = "12.34.56.77"
hostname    = "example"

on_poweroff = 'destroy'
on_reboot   = 'restart'
on_crash    = 'restart'
vcpus       = 1
extra       = 'xencons=tty1'
</code></pre>

<p>When installing grub on your guest, don&rsquo;t pay any attention to Grub
complaining about not being able to map <code>/dev/xvda1</code> to a BIOS disk.
pyGrub doesn&rsquo;t care about such wordly things as physical disks.  Just
make sure the <code>/boot</code> directory&rsquo;s partition (often <code>/</code>) is the first
listed in the <code>disk=[]</code> array above.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/04/10/learning-about-git/">Learning About GIT</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2009-04-10T17:23:42+02:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2009</span></span> <span class='time'>5:23 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It has been a long time coming, but now I&rsquo;m seriously starting to look
at <a href="http://git-scm.com/">Git</a>.  Git is the content tracker used by the
<a href="http://www.kernel.org">Linux kernel</a> folks, initially developed by
Torvalds.</p>

<p>At <a href="http://www.westermo.com">Westermo R&amp;D</a> we use Subversion for our
daily operations and today I started migrating the software to Git.
Mainly just to get a comparison of performance, storage size and to
explore how we can use Git on top of svn to become more productive when
working in parallel in different teams.  We&rsquo;ve tried this quite
extensively before, using Subversion branches and even though it&rsquo;s a
heck of a lot easier to use compared to CVS its strength is not in
merging.</p>

<p>The new
<a href="http://subversion.tigris.org/merge-tracking/func-spec.html">merge tracking</a>
feature in Subversion 1.5 and features like
<a href="http://subversion.tigris.org/svn_1.6_releasenotes.html#tree-conflicts">detection of tree conflicts</a>
in, the recently released, 1.6 helps.  However, working in small teams,
disconnected from a centralised server is still not possible with svn,
OK sure there is <a href="http://svk.bestpractical.com/">svk</a>, but honestly,
doesn&rsquo;t that make you think of CVS and bolting on features after the
fact, similar to <a href="http://www.cvsnt.org/">CVSNT</a> or
<a href="http://opencvs.org/">OpenCVS</a>.  Intriguingly bizarre projects. :-)</p>

<p>The reasons for trying out Git are not only related to any short comings
of Subversion, Git has lot of strong points on its own.  See
<a href="http://www.vijedi.net/2009/reasons-for-using-the-git-svn-bridge/">here</a>
for instance:</p>

<ul>
<li>SHA-1 hashes for each commit, makes it possible to easier detect history corruptions</li>
<li>Local developer branches</li>
<li>Fast branch switching</li>
<li>Cherry picking commits from other branches, easily</li>
<li>Stashing/Shelving, i.e. put aside things you&rsquo;re working on for later</li>
</ul>


<p>I&rsquo;ve started collecting a set of links that seem to be useful:</p>

<ul>
<li><a href="http://tsunanet.blogspot.com/2007/07/learning-git-svn-in-5min.html">Learning git-svn in five minutes</a></li>
<li><a href="http://www.kernel.org/pub/software/scm/git/docs/git-svn.html">The git-svn(1) man page</a></li>
<li><a href="http://git.or.cz/course/svn.html">Git - SVN Crash Course</a></li>
<li><a href="http://utsl.gen.nz/talks/git-svn/intro.html">An introduction to git-svn for Subversion users and deserters</a></li>
<li><a href="http://flavio.castelli.name/howto_use_git_with_svn">How to use Git and SVN together</a></li>
<li><a href="http://tsgates.cafe24.com/git/git-emacs.html">A guided tour of emacs-git</a></li>
<li><a href="http://xtalk.msk.su/~ott/en/writings/emacs-vcs/EmacsGit.html">Work with Git from Emacs</a></li>
<li><a href="http://www.emacswiki.org/emacs/Git">EmacsWiki:Git</a></li>
</ul>


<p>I&rsquo;ll conclude this post with two YouTube entries, first is the, now
classic, presentation by
<a href="http://www.youtube.com/watch?v=4XpnKHJAok8">Linus Torvalds on what Git isn&rsquo;t</a>
&hellip; and then
<a href="http://www.youtube.com/watch?v=8dhZ9BXQgc4">Randal Schwartz on what Git is</a>
&hellip;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/03/28/the-marvellous-libev/">The Marvellous Libev</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2009-03-28T23:00:00+01:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2009</span></span> <span class='time'>11:00 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A very good friend mine recently told me about a neat event library,
<a href="http://software.schmorp.de/pkg/libev">libev</a>.  Usually when he drops me
links like that it takes me a couple of years to react and finally
adopt.</p>

<p>This time it only took me about a month.</p>

<p>He has actually showed me lots of very useful stuff throughout the
years, and even though we used GNU/Linux at university, he was one
those hard core people who showed me the path into a successful
full-time career as a Linux developer. I don&rsquo;t think I have ever
thanked you properly for that, Jakob!</p>

<p>As it turns out libev was exactly what I have been looking for, for
years!  Way back in 2005 when I switched jobs I started working with a
scary home brew code base ported to Linux from VxWorks.  From the
original code only the basic state machine, basic election algorithms
and some other minor glue code remains.  I have slowly refactored the
code base into something, hopefully, more maintainable.</p>

<p>The one missing piece was the timer implementation.  The old code used
to create a new pthread for each new timeout.  I tried replacing it with
code of
<a href="https://github.com/troglobit/toolbox/blob/master/timer/timer.c">my own</a>,
based on Don Libes
<a href="http://www.kohala.com/start/libes.timers.txt">&ldquo;Implementing Software Timers&rdquo;</a>.
As it turns out libev already has (working) timers, in fact, it has
taken an even more complete approach and made almost everything into
events with callbacks, perfect for state machines!</p>

<p>After having done
<a href="https://github.com/troglobit/toolbox/blob/master/event-demo.c">some initial testing</a>
of the libev timers I put on a big smile and fired up Emacs to
investigate what other parts of that home brew code base were eligible
for replacement, when i suddenly hit me: the state machine consists of a
couple of threads that pass messages between them using <code>msgsnd()</code> and
<code>msgrcv()</code>, bad old XSI IPC primitives.  Bad guys that don&rsquo;t use
standard file descriptors.  A quick and dirty hack confirms it. I
started looking around and I had a vague recollection of some message
primitives that actually used file descriptors.  On the mailing list
Marc (Lehman) was as always extremely quick to answer my questions and
with his help I eventually found the <code>mq_overview(7)</code> man page:</p>

<blockquote><p>Polling message queue descriptors
    On Linux, a message queue descriptor is actually a file descriptor,
    and can be monitored using select(2), poll(2), or epoll(7). This
    is not portable.</p></blockquote>

<p>Wow, I could hardly wait until I, later that day, could get my hands on
the keyboard again and try it out!  Yes, the POSIX message queue
primitives work!  Here is my
<a href="https://github.com/troglobit/toolbox/blob/master/event-demo2.c">sample message queue code</a>.
Compile it in Emacs with <code>M-x compile</code> (I have that bound to F9 in my
.emacs, Borland IDE style :)</p>

<p>Thus far I must say I can really recommend libev!  Even though it isn&rsquo;t
<a href="http://www.openbsd.org/policy.html">ISC licensed</a>, it&rsquo;s dual licensed
under the
<a href="http://en.wikipedia.org/wiki/BSD_licenses">2-clause BSD license</a> and
the <a href="http://www.gnu.org/copyleft/gpl.html">GNU GPL</a>.  In my case I&rsquo;ll go
with the 2-clause BSD license, which according to Wikipedia is
&ldquo;functionally equivalent&rdquo; to the
<a href="http://en.wikipedia.org/wiki/MIT_License">MIT license</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/03/27/why-i-like-c/">Why I Like C</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2009-03-27T00:37:42+01:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>27</span><span class='date-suffix'>th</span>, <span class='date-year'>2009</span></span> <span class='time'>12:37 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I thought I was alone, but it turns out I&rsquo;m not.
<a href="http://netsplit.com">Scott James Remnant</a> describes exactly what I&rsquo;ve
been feeling the last couple of years.  Read his
<a href="https://web.archive.org/web/20121019061557/http://netsplit.com/2009/03/26/the-fallacy-of-high-level-languages/">blog entry</a>
on the subject.  I couldn&rsquo;t agree more.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/02/10/network-programming-link-collection/">Netork Programming &#8211; Link Collection</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2009-02-10T21:56:42+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2009</span></span> <span class='time'>9:56 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is a first effort at collecting information about network
programming structs and APIs available in UNIX.  I plan on updating this
as I find more.</p>

<ul>
<li>Linux Journal: Linux Network Programming, Part
<a href="http://www.linuxjournal.com/article/2333">I</a>,
<a href="http://www.linuxjournal.com/article/2335">II</a>,
<a href="http://www.linuxjournal.com/article/2336">III</a>.</li>
<li>Linux Journal:
<a href="http://www.linuxjournal.com/article/6070">Multicast Routing Code in the Linux Kernel</a></li>
<li>Linux Journal: Inside the Linux Packet Filter, Part
<a href="http://www.linuxjournal.com/article/4852">I</a>,
<a href="http://www.linuxjournal.com/article/5617">II</a></li>
<li>/usr/include/netinet/in.h</li>
</ul>


<p>There are of course, in addition to these fine sources, the entire
catalogue of work by <a href="http://kohala.com/start/">Richard M. Stevens</a>.
May he rest in peace.  His works are considered <em>the</em> reference
litterature on this subject, see for instance the
<a href="http://www.unpbook.com">UNIX Network Programming</a>
(<a href="http://www.linuxjournal.com/article/2656">review</a>).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/07/31/moving-to-isc/">Moving to ISC</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2008-07-31T00:53:42+02:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>31</span><span class='date-suffix'>st</span>, <span class='date-year'>2008</span></span> <span class='time'>12:53 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I hereby announce that all of the code I produce from now on will use
the <a href="http://en.wikipedia.org/wiki/ISC_license">ISC license</a>.  Previously
I&rsquo;ve used the <a href="http://en.wikipedia.org/wiki/MIT_License">MIT license</a>
and the GNU GPL, or LGPL where applicable.</p>

<p>The reason for changing this is two-fold.  First, I like to be able to
reuse much of what I do in proprietary settings. Yes, I&rsquo;m one of those
people who look upon the world with &ldquo;grey&rdquo; eyes rather than black &amp;
white.  Second, the ISC license is a lot more clear on the wording but
is still GPL compatible.</p>

<p>OpenBSD also has some
<a href="http://www.openbsd.org/policy.html">thoughts on the matter</a> which I
find interesting.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/09/24/top-ten-unix-shell-commands/">Top Ten UNIX Shell Commands</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2006-09-24T00:02:42+02:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2006</span></span> <span class='time'>12:02 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Current trend is to run the following
<a href="http://www-128.ibm.com/developerworks/aix/library/au-productivitytips.html?ca=dgr-lnxw07UNIX-Office-Tips">one-liner from IBM</a>.
I&rsquo;m usually logged in to the following three systems, with very
different results.</p>

<h2>vmlinux.org</h2>

<pre><code>$ history |awk '{print $2}'|sort|uniq -c|sort -nr|head -10
144 ls
 61 cd
 58 sudo
 29 less
 23 emacs
 19 bzr
 16 vim
 11 rm
 10 wget
 10 mv
</code></pre>

<p>My personal life.  Not much different from my professional dito.  Most
visible difference maybe is my use of bzr instead of svn.  At the time
we decided on svn at work bzr had not matured enough and darcs didn&rsquo;t
(still doesn&rsquo;t) have a Windows client as good as TortoiseSVN.</p>

<h2>Build server @work</h2>

<pre><code>$ history |awk '{print $2}'|sort|uniq -c|sort -nr|head -10
108 cd
 63 svn
 44 search
 41 ls
 25 sudo
 23 less
 23 ./build.sh
 21 make
 17 ./netprobe
 16 man
</code></pre>

<p>Mostly work stuff,
<a href="https://github.com/troglobit/toolbox/blob/master/search">&lsquo;search&rsquo;</a> is a
small wrapper around find that skips .svn dirs and semantic.cache files
and other annoying things you constantly run in to when looking for
something.  The build script is a small wrapper around make for our
Snapgear and uClinux-dist trees. Netprobe was one of the last prototypes
I wrote to investigate some UNIX peculiarities involving libnet and
libpcap.</p>

<h2>troglobit (my laptop)</h2>

<pre><code>$ history |awk '{print $2}'|sort|uniq -c|sort -nr|head -10
140 sudo
 47 ifconfig
 45 less
 27 ps
 26 ssh
 25 iwconfig
 21 ping
 21 man
 15 ls
 15 cd
</code></pre>

<p>Well, I&rsquo;m having trouble with my laptop network. The wlan
(wpa_supplicant) doesn&rsquo;t like suspend/resume on my ThinkPad T43.</p>

<p><em>Update:</em> I had to make an update to this, even at first I had my doubts
 about the first script. It didn&rsquo;t feel right, now after revising it,
 and reading
 <a href="https://web.archive.org/web/20090601001529/http://planet.debian.org/">Planet Debian</a>,
 I noticed Erich Schuberts entry.  There it was, the working script,
 which I only had to bashify!  Thanks Erich!</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/5">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/3">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Projects</h1>
  <ul>
    <li><a href="/finit.html">Fast Init Replacement</a></li>
    <li><a href="/uftpd.html">Micro TFTP/FTP Daemon</a></li>
    <li><a href="/tetris.html">Micro Tetris&trade;</a></li>
    <li><a href="/snake.html">Micro Snake</a></li>
    <li><a href="/editline.html">Minix Editline</a></li>
    <li><a href="/inadyn.html">Inadyn DDNS Client</a></li>
    <li><a href="/multicast-howto.html">Multicast HowTo</a></li>
    <li><a href="/mrouted.html">The Original Multicast Routing Daemon</a></li>
    <li><a href="/pimd.html">The Original PIM-SM Daemon</a></li>
    <li><a href="/smcroute.html">SMCRoute Static Multicast Routing</a></li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/07/01/howto-push-to-multiple-git-repos-with-one-command/">HowTo: Push to Multiple GIT Repos With One Command</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/30/howto-apache-with-gitweb-on-debian-8-dot-1/">HowTo: Apache With Gitweb on Debian 8.1</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/06/inetd-support-in-finit-v1-dot-12/">Inetd Support in Finit v1.12</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/24/finit-v1-dot-11-released/">Finit v1.11 Released!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/12/rant-all-the-c-compiler-warnings-dot-dot-dot/">Rant: All the C Compiler Warnings &#8230;</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/troglobit">@troglobit</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'troglobit',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
  <h1>Latest Tweets</h1>

  <a class="twitter-timeline" data-dnt="true"
     href="https://twitter.com/troglobit"
     data-widget-id="365667052100415488">Tweets by @troglobit</a>
  <script>!function(d,s,id){var
    js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Joachim Nilsson -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
