<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Joachim Wiberg ">
<meta name="description" content="This post shows how you can create your own operating system based on Buildroot. Add your own packages, patches, and your very own flavor to the experience.
My own take on this is myLinux, which started out as a TroglOS, and before that as miniroot, by Henrik Nordström. Please feel free to dig around myLinux for more inspiration and tips on how to solve common use-cases.
The manual, section 9, describes the basic process of setting up a our customizations as a BR2_EXTERNAL tree." />
<meta name="keywords" content=", howto, buildroot, git, opensource" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://troglobit.com/post/2022-04-17-your-own-operating-system/" />


    <title>
        
            Your Own Operating System :: Joachim Wiberg 
        
    </title>





<link rel="stylesheet" href="https://troglobit.com/main.949191c1dcc9c4a887997048b240354e47152016d821198f89448496ba42e491.css" integrity="sha256-lJGRwdzJxKiHmXBIskA1TkcVIBbYIRmPiUSElrpC5JE=">



    <link rel="apple-touch-icon" sizes="180x180" href="https://troglobit.com/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://troglobit.com/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://troglobit.com/favicon-16x16.png">
    <link rel="manifest" href="https://troglobit.com/site.webmanifest">
    <link rel="mask-icon" href="https://troglobit.com/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="https://troglobit.com/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="Your Own Operating System">
<meta itemprop="description" content="This post shows how you can create your own operating system based on Buildroot. Add your own packages, patches, and your very own flavor to the experience.
My own take on this is myLinux, which started out as a TroglOS, and before that as miniroot, by Henrik Nordström. Please feel free to dig around myLinux for more inspiration and tips on how to solve common use-cases.
The manual, section 9, describes the basic process of setting up a our customizations as a BR2_EXTERNAL tree."><meta itemprop="datePublished" content="2022-04-17T16:56:00+01:00" />
<meta itemprop="dateModified" content="2022-04-17T16:56:00+01:00" />
<meta itemprop="wordCount" content="254">
<meta itemprop="keywords" content="howto,buildroot,git,opensource," />
<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Your Own Operating System"/>
<meta name="twitter:description" content="This post shows how you can create your own operating system based on Buildroot. Add your own packages, patches, and your very own flavor to the experience.
My own take on this is myLinux, which started out as a TroglOS, and before that as miniroot, by Henrik Nordström. Please feel free to dig around myLinux for more inspiration and tips on how to solve common use-cases.
The manual, section 9, describes the basic process of setting up a our customizations as a BR2_EXTERNAL tree."/>



    <meta property="og:title" content="Your Own Operating System" />
<meta property="og:description" content="This post shows how you can create your own operating system based on Buildroot. Add your own packages, patches, and your very own flavor to the experience.
My own take on this is myLinux, which started out as a TroglOS, and before that as miniroot, by Henrik Nordström. Please feel free to dig around myLinux for more inspiration and tips on how to solve common use-cases.
The manual, section 9, describes the basic process of setting up a our customizations as a BR2_EXTERNAL tree." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://troglobit.com/post/2022-04-17-your-own-operating-system/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-17T16:56:00+01:00" />
<meta property="article:modified_time" content="2022-04-17T16:56:00+01:00" />







    <meta property="article:published_time" content="2022-04-17 16:56:00 &#43;0100 &#43;0100" />











    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://troglobit.com/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">&gt;</span>
            <span class="logo__text ">
                $ cd /home/</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://troglobit.com/about/">About</a></li><li><a href="https://troglobit.com/posts/">Blog</a></li><li><a href="https://troglobit.com/howtos/">HowTos</a></li><li><a href="https://troglobit.com/projects/">Projects</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        2 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://troglobit.com/post/2022-04-17-your-own-operating-system/">Your Own Operating System</a>
      </h1>

      

      

      

      <div class="post-content">
        <p>This post shows how you can create your own operating system based on
<a href="https://buildroot.org">Buildroot</a>.  Add your own packages, patches, and your very own flavor
to the experience.</p>
<blockquote>
<p>My own take on this is <a href="https://github.com/troglobit/myLinux">myLinux</a>, which started out as a TroglOS,
and before that as <a href="https://github.com/hno/miniroot">miniroot</a>, by Henrik Nordström.  Please feel
free to dig around myLinux for more inspiration and tips on how to
solve common use-cases.</p>
</blockquote>
<!-- more -->
<p>The <a href="https://buildroot.org/downloads/manual/manual.html">manual</a>, section 9, describes the basic process of setting up a
our customizations as a <code>BR2_EXTERNAL</code> tree.  Let&rsquo;s start with the
basic directory layout.  We&rsquo;ve also chosen a name for our little system:
&ldquo;Foo&rdquo;.</p>
<pre><code>mkdir foo
cd foo
git init
touch Makefile
touch Config.in
touch external.mk
touch external.desc
mkdir configs
touch configs/foo_defconfig
git add .
</code></pre>
<p>Edit <code>external.desc</code>, notice the name in CAPITAL letters:</p>
<pre><code>name: FOO
desc: Foo System
</code></pre>
<p>Now, we want our project to be stand-alone, so we add buildroot as a
GIT submodule to our project:</p>
<pre><code>git submodule add https://github.com/buildroot/buildroot.git
</code></pre>
<p>To make things easier for us, we&rsquo;re also creating a Makefile to set some
of the critical buildroot environment variables needed.  For details,
see the <a href="https://buildroot.org/downloads/manual/manual.html">manual</a>.  Edit <code>Makefile</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Makefile" data-lang="Makefile"><span style="display:flex;"><span><span style="color:#fe8019">export </span>BR2_EXTERNAL <span style="color:#fe8019">:=</span> <span style="color:#fe8019">$(</span>CURDIR<span style="color:#fe8019">)</span>
</span></span><span style="display:flex;"><span><span style="color:#fe8019">export </span>PATH         <span style="color:#fe8019">:=</span> <span style="color:#fe8019">$(</span>CURDIR<span style="color:#fe8019">)</span>/bin:<span style="color:#fe8019">$(</span>PATH<span style="color:#fe8019">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ARCH <span style="color:#fe8019">?=</span> <span style="color:#fe8019">$(</span>shell uname -m<span style="color:#fe8019">)</span>
</span></span><span style="display:flex;"><span>O    <span style="color:#fe8019">?=</span> <span style="color:#fe8019">$(</span>CURDIR<span style="color:#fe8019">)</span>/output
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>config <span style="color:#fe8019">:=</span> <span style="color:#fe8019">$(</span>O<span style="color:#fe8019">)</span>/.config
</span></span><span style="display:flex;"><span>bmake   <span style="color:#fe8019">=</span> <span style="color:#fe8019">$(</span>MAKE<span style="color:#fe8019">)</span> -C buildroot O<span style="color:#fe8019">=</span><span style="color:#fe8019">$(</span>O<span style="color:#fe8019">)</span> $1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fabd2f">all</span><span style="color:#fe8019">:</span> <span style="color:#fe8019">$(</span>config<span style="color:#fe8019">)</span> buildroot/Makefile
</span></span><span style="display:flex;"><span>	@+<span style="color:#fe8019">$(</span>call bmake,$@<span style="color:#fe8019">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fabd2f">$(config)</span><span style="color:#fe8019">:</span>
</span></span><span style="display:flex;"><span>	@+<span style="color:#fe8019">$(</span>call bmake,list-defconfigs<span style="color:#fe8019">)</span>
</span></span><span style="display:flex;"><span>	@echo <span style="color:#b8bb26">&#34;ERROR: No configuration selected.&#34;</span>
</span></span><span style="display:flex;"><span>	@echo <span style="color:#b8bb26">&#34;Please choose a configuration from the list above by running&#34;</span>
</span></span><span style="display:flex;"><span>	@echo <span style="color:#b8bb26">&#34;&#39;make &lt;board&gt;_defconfig&#39; before building an image.&#34;</span>
</span></span><span style="display:flex;"><span>	@exit <span style="color:#d3869b">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fabd2f">%</span><span style="color:#fe8019">:</span> buildroot/Makefile
</span></span><span style="display:flex;"><span>	@+<span style="color:#fe8019">$(</span>call bmake,$@<span style="color:#fe8019">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fabd2f">buildroot/Makefile</span><span style="color:#fe8019">:</span>
</span></span><span style="display:flex;"><span>	@git submodule update --init
</span></span></code></pre></div>
      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://troglobit.com/tags/howto/">howto</a></span>
        <span class="tag"><a href="https://troglobit.com/tags/buildroot/">buildroot</a></span>
        <span class="tag"><a href="https://troglobit.com/tags/git/">git</a></span>
        <span class="tag"><a href="https://troglobit.com/tags/opensource/">opensource</a></span>
        
    </p>

      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        254 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2022-04-17 17:56
        

         
          
        
      </p>
    </div>

    
    <div class="pagination">
        

        <div class="pagination__buttons">
            
            <span class="button previous">
                <a href="https://troglobit.com/post/2022-09-09-logging-to-remote-syslog-servers/">
                    <span class="button__icon">←</span>
                    <span class="button__text">Logging to remote syslog servers</span>
                </a>
            </span>
            

            
            <span class="button next">
                <a href="https://troglobit.com/post/2022-04-11-linux-kernel-development-checklist/">
                    <span class="button__text">Linux Kernel Development Checklist</span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

    

  </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2006</span>
            <span><a href="https://troglobit.com/">Joachim Wiberg</a></span>
            <span>UNIX&trade; 4Life! &#9994;</span>
            
            
        </div>
    </div>
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="https://troglobit.com/bundle.min.46e438bd2eca7eb6358c700b40f6f56b22ab0b92503ecc11a2d8e4bcc610b8b4da83e5ea3d3e84fdb5f3c3c765744b9f5bbaf43cf5a027910be07ee39a9c12a1.js" integrity="sha512-RuQ4vS7KfrY1jHALQPb1ayKrC5JQPswRotjkvMYQuLTag&#43;XqPT6E/bXzw8dldEufW7r0PPWgJ5EL4H7jmpwSoQ=="></script>




    </body>
</html>
