<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Joachim Wiberg ">
<meta name="description" content="Alpine Linux is an amazing little operating system. It&amp;rsquo;s small, boots quick, and easy to use. The size alone makes it very attractive to container builders.
Alpine Linux started with Finit
This blog post details how to set Alpine up with the Finit init system, replacing the default OpenRC.
" />
<meta name="keywords" content=", finit, init, opensource" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://troglobit.com/post/2021-02-12-alpine-linux-with-finit/" />


    <title>
        
            Alpine Linux with Finit :: Joachim Wiberg 
        
    </title>





<link rel="stylesheet" href="https://troglobit.com/main.949191c1dcc9c4a887997048b240354e47152016d821198f89448496ba42e491.css" integrity="sha256-lJGRwdzJxKiHmXBIskA1TkcVIBbYIRmPiUSElrpC5JE=">



    <link rel="apple-touch-icon" sizes="180x180" href="https://troglobit.com/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://troglobit.com/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://troglobit.com/favicon-16x16.png">
    <link rel="manifest" href="https://troglobit.com/site.webmanifest">
    <link rel="mask-icon" href="https://troglobit.com/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="https://troglobit.com/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="Alpine Linux with Finit">
<meta itemprop="description" content="Alpine Linux is an amazing little operating
system.  It&rsquo;s small, boots quick, and easy to use.  The size alone makes
it very attractive to container builders.

            Alpine Linux started with Finit
        

This blog post details how to set Alpine up with the Finit init system,
replacing the default OpenRC."><meta itemprop="datePublished" content="2021-02-12T07:24:06+01:00" />
<meta itemprop="dateModified" content="2021-02-12T07:24:06+01:00" />
<meta itemprop="wordCount" content="448">
<meta itemprop="keywords" content="finit,init,opensource," />
<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Alpine Linux with Finit"/>
<meta name="twitter:description" content="Alpine Linux is an amazing little operating
system.  It&rsquo;s small, boots quick, and easy to use.  The size alone makes
it very attractive to container builders.

            Alpine Linux started with Finit
        

This blog post details how to set Alpine up with the Finit init system,
replacing the default OpenRC."/>



    <meta property="og:title" content="Alpine Linux with Finit" />
<meta property="og:description" content="Alpine Linux is an amazing little operating
system.  It&rsquo;s small, boots quick, and easy to use.  The size alone makes
it very attractive to container builders.

            Alpine Linux started with Finit
        

This blog post details how to set Alpine up with the Finit init system,
replacing the default OpenRC." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://troglobit.com/post/2021-02-12-alpine-linux-with-finit/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-02-12T07:24:06+01:00" />
<meta property="article:modified_time" content="2021-02-12T07:24:06+01:00" />







    <meta property="article:published_time" content="2021-02-12 07:24:06 &#43;0100 CET" />











    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://troglobit.com/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">&gt;</span>
            <span class="logo__text ">
                $ cd /home/</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://troglobit.com/about/">About</a></li><li><a href="https://troglobit.com/posts/">Blog</a></li><li><a href="https://troglobit.com/howtos/">HowTos</a></li><li><a href="https://troglobit.com/projects/">Projects</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        3 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://troglobit.com/post/2021-02-12-alpine-linux-with-finit/">Alpine Linux with Finit</a>
      </h1>

      

      

      

      <div class="post-content">
        <p><a href="https://alpinelinux.org/">Alpine Linux</a> is an amazing little operating
system.  It&rsquo;s small, boots quick, and easy to use.  The size alone makes
it very attractive to container builders.</p>
<figure class="center"><img src="https://troglobit.com/images/finit4-screenshot.png"
         alt="Alpine Linux started with Finit"/><figcaption>
            <p>Alpine Linux started with Finit</p>
        </figcaption>
</figure>
<p>This blog post details how to set Alpine up with the Finit init system,
replacing the default OpenRC.</p>
<h3 id="alpine-sdk">Alpine SDK</h3>
<p>After install you need to add some more packages to build Finit from
source.  The example given here builds from GIT sources, which require a
few more steps.  Building from release tarballs is easier and does not
bring the same amount of overhead.</p>
<pre><code>apk add alpine-sdk autoconf automake libtool linux-headers
</code></pre>
<h3 id="finit-deps">Finit Deps</h3>
<p>Finit relies on two libraries that used to be built-in but now are their
own separate projects: [libite (-lite)][2] and [libuEv][3].  The former
contains basic frog DNA and the latter a small event loop that basically
is just a wrapper for Linux <code>epoll()</code> &amp; C:o.</p>
<pre><code>git clone https://github.com/troglobit/libite
git clone https://github.com/troglobit/libuev
git clone https://github.com/troglobit/finit
</code></pre>
<p>Build each of the dependencies first:</p>
<pre><code>cd libite
./autogen &amp;&amp; ./configure &amp;&amp; make &amp;&amp; make install
...
cd ../libuev
./autogen &amp;&amp; ./configure &amp;&amp; make &amp;&amp; make install
...
</code></pre>
<h3 id="finit">Finit</h3>
<p>Now lets build Finit for Alpine!</p>
<pre><code>cd ../finit
./autogen
./contrib/alpine/build.sh
...
*** Done
</code></pre>
<p>Time to wake up!  We&rsquo;re now at the critical part where we can potentially
screw things up &ndash; the installation.</p>
<blockquote>
<p>Please, read the output from the install script carefully!</p>
</blockquote>
<pre><code>./contrib/alpine/install.sh
</code></pre>
<p>The first question is easy, do you really want to install Finit?  Yes.</p>
<p>For the second question, however, <em>I recommend answering NO</em> first and
manually set <code>init=</code> in the boot loader, just to make sure everything
works OK.  You can re-run <code>install.sh</code> later to repeat the process.</p>
<pre><code>*** Install Finit as the system default IOnit (y/N)? N
*** Done
</code></pre>
<h3 id="testing">Testing</h3>
<p>Reboot your system and be quick to press the Tab key to enter the Alpine
boot loader menu.  Press Tab again to edit the kernel command line, we
want to:</p>
<ol>
<li>Remove the &lsquo;quiet&rsquo; option</li>
<li>Append the &lsquo;init=/sbin/finit&rsquo; option</li>
</ol>
<p>The second of the two is the interesting part, that&rsquo;s what tells the
kernel to not use its built-in heuristics to select the first user space
program to start, but instead start Finit.  We remove the quiet option
just to get some more debug info from the kernel and a boot progress
from Finit itself.</p>
<p>Press Enter to boot.</p>
<p>If everything worked you should see the bootup and be presented with the
login prompt, as shown below.</p>
<p>If you like the setup, you can go ahead and run the install script again
and this time answer Yes to the last question.</p>
<p>Use the <code>initctl</code> companion tool to Finit to start/stop, activate and
reload new configurations.</p>
<p>Good luck and have fun! :)</p>
      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://troglobit.com/tags/finit/">finit</a></span>
        <span class="tag"><a href="https://troglobit.com/tags/init/">init</a></span>
        <span class="tag"><a href="https://troglobit.com/tags/opensource/">opensource</a></span>
        
    </p>

      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        448 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2021-02-12 07:24
        

         
          
        
      </p>
    </div>

    
    <div class="pagination">
        

        <div class="pagination__buttons">
            
            <span class="button previous">
                <a href="https://troglobit.com/post/2021-04-27-its-here/">
                    <span class="button__icon">←</span>
                    <span class="button__text">It&#39;s Here! ♥</span>
                </a>
            </span>
            

            
            <span class="button next">
                <a href="https://troglobit.com/post/2020-11-15-backtrace-in-c/">
                    <span class="button__text">Backtrace in C</span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

    

  </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2006</span>
            <span><a href="https://troglobit.com/">Joachim Wiberg</a></span>
            <span>UNIX&trade; 4Life! &#9994;</span>
            
            
        </div>
    </div>
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="https://troglobit.com/bundle.min.46e438bd2eca7eb6358c700b40f6f56b22ab0b92503ecc11a2d8e4bcc610b8b4da83e5ea3d3e84fdb5f3c3c765744b9f5bbaf43cf5a027910be07ee39a9c12a1.js" integrity="sha512-RuQ4vS7KfrY1jHALQPb1ayKrC5JQPswRotjkvMYQuLTag&#43;XqPT6E/bXzw8dldEufW7r0PPWgJ5EL4H7jmpwSoQ=="></script>




    </body>
</html>
