<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <meta name="author" content="Joachim Nilsson"/>
  <link href='/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="/images/profile.jpg" />
  <meta name="twitter:image" content="/images/profile.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@troglobit" />
  <meta name="twitter:creator" content="@troglobit" />
  <meta property="og:url" content="/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="" />

  <meta name="generator" content="Hugo 0.47.1" />
  <link rel="canonical" href="/" />
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="/css/syntax.css" /><link rel="stylesheet" href="/css/codeblock.css" />



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/"></a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Archive" href="/archive/">Archive</a>
            </li>
          
        
          
            <li>
              <a title="FTP" href="http://ftp.troglobit.com">FTP</a>
            </li>
          
        
          
            <li>
              <a title="GIT" href="http://git.troglobit.com">GIT</a>
            </li>
          
        
          
            <li>
              <a title="HowTos" href="/howto/">HowTos</a>
            </li>
          
        
          
            <li>
              <a title="Projects" href="/projects/">Projects</a>
            </li>
          
        
          
            <li>
              <a title="ResumÃ©" href="http://resume.troglobit.com">ResumÃ©</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/about/">About</a>
            </li>
          
        

        

        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="" href="/">
            <img class="avatar-img" src="/images/profile.jpg" alt="" />
          </a>
        
      </div>
    </div>

  </div>
</nav>




    
  
  
  




  <div class="intro-header"></div>


    
  <div role="main" class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        

        <div class="posts-list">
          
          
            <article class="post-preview">
              <a href="/2016/11/19/one-ping-only/">
                <h2 class="post-title">One ping only</h2>
                
                
              </a>

              <span class="post-meta">
  
  
  <i class="fa fa-calendar-o"></i>&nbsp;Posted on November 19, 2016
  
  
  
</span>


              <div class="post-entry">
                
                  For some odd reason, today was the day when I woke up and continued working on libICMP. It&rsquo;s now almost seven years since I first adopted Tim Lawless&rsquo; public domain version, and today I picked up where I left off and started refactoring and cleaning up.
Example:
#include &quot;icmp/icmp.h&quot; int main(int argc, char *argv[]) { char *host = &quot;localhost&quot;; struct libicmp *obj; if (argc &gt;= 2) host = argv[1]; if (!
                  <a href="/2016/11/19/one-ping-only/" class="post-read-more">[Read More]</a>
                
              </div>

              
            </article>
          
            <article class="post-preview">
              <a href="/2016/11/06/merecat---another-stray-kitten-/">
                <h2 class="post-title">Merecat - another stray kitten?</h2>
                
                
              </a>

              <span class="post-meta">
  
  
  <i class="fa fa-calendar-o"></i>&nbsp;Posted on November 6, 2016
  
  
  
</span>


              <div class="post-entry">
                
                  <p>This post is about my adoption, refactor, and rebranding of thttpd as
<a href="http://merecat.troglobit.com">Merecat</a>.</p>

<p>I code for recreation as well as work.  Most of the time I tinker around
with my various <a href="https://github.com/troglobit">projects</a> simply to learn
and sometimes these little projects turn into something useful for other
people as well, which is great!</p>

<p data-pullquote="not all things can be simplified, and not all simple
things are correct"> Recently I discovered my method to get started:
refactoring, or just simple code cleanup.  You see I've got this crazy
idea that <em>all simple things are correct</em>.  Although things
usually tend to require a certain balance &mdash; not all things can be
simplified, and not all simple things are correct.</p>

<p>When I recently had to migrate my personal blog, FTP, and GIT server, I
set out to run everything from an old RasPi2.  This put my private life
in just about the same niche as my work life, embedded.  On a resource
constrained platform like that running Apache is not the best idea.  So
I set out to (re-)discover the web servers of my past, the late 90&rsquo;s, I
had almost forgotten:</p>

<ul>
<li><a href="http://acme.com/software/mini_httpd/">mini_httpd</a>,</li>
<li><a href="http://www.boa.org/">Boa</a>,</li>
<li>BusyBox httpd,</li>
<li><a href="http://www.acme.com/software/thttpd/">thttpd</a>,</li>
<li>and more &hellip;</li>
</ul>

<p>Come to think of it, they are probably one of the many reasons that I
started my career in embedded in the first place!</p>

<p></p>
                  <a href="/2016/11/06/merecat---another-stray-kitten-/" class="post-read-more">[Read More]</a>
                
              </div>

              
            </article>
          
            <article class="post-preview">
              <a href="/2016/10/27/new-toolchains/">
                <h2 class="post-title">New Toolchains</h2>
                
                
              </a>

              <span class="post-meta">
  
  
  <i class="fa fa-calendar-o"></i>&nbsp;Posted on October 27, 2016
  
  
  
</span>


              <div class="post-entry">
                
                  Finally, fresh from the oven, here are the remaining two toolchains I&rsquo;ve promised, based on GCC 6.1 and GLIBC 2.23. Download from the FTP:
 arm-unknown-linux-gnueabi-6.1.0-2.tar.xz powerpc-unknown-linux-gnu-6.1.0-2.tar.xz x86_64-unknown-linux-gnu-6.1.0-2.tar.xz  Unpack into /usr/local, and add to your $PATH, e.g.
export PATH=/usr/local/arm-unknown-linux-gnueabi-6.1.0-2/bin:$PATH  The toolchains are built using crosstool-NG on Ubuntu 16.04 64-bit, and are primarily intended for myself and users of TroglOS, but are generic enough to be useful for other purposes as well.
                  <a href="/2016/10/27/new-toolchains/" class="post-read-more">[Read More]</a>
                
              </div>

              
            </article>
          
            <article class="post-preview">
              <a href="/2016/09/26/arm-toolchain-r1/">
                <h2 class="post-title">ARM Toolchain r1</h2>
                
                
              </a>

              <span class="post-meta">
  
  
  <i class="fa fa-calendar-o"></i>&nbsp;Posted on September 26, 2016
  
  
  
</span>


              <div class="post-entry">
                
                  First GCC 6.1 based ARM (32-bit) toolchain released on my FTP. Built using crosstool-NG for Ubuntu 16.04 (x86_64) with GLIBC 2.23.
 arm-unknown-linux-gnueabi-6.1.0-1.tar.xz  Download, unpack into /usr/local, and add to your $PATH
export PATH=/usr/local/arm-unknown-linux-gnueabi-6.1.0-1/bin:$PATH  There&rsquo;s lots of neat stuff included, both a sysroot and a debug-root with GDB and gdbserver for target. For details on using it, see the excellent docs.
The main purpose for my building this is TroglOS, but it is useful for other purposes as well of course.
                  <a href="/2016/09/26/arm-toolchain-r1/" class="post-read-more">[Read More]</a>
                
              </div>

              
            </article>
          
            <article class="post-preview">
              <a href="/2016/09/21/finit3--almost-there-.../">
                <h2 class="post-title">Finit3: Almost there ...</h2>
                
                
              </a>

              <span class="post-meta">
  
  
  <i class="fa fa-calendar-o"></i>&nbsp;Posted on September 21, 2016
  
  
  
</span>


              <div class="post-entry">
                
                  <p>Today the new logo for Finit3 was added to the GitHub repo and the
<a href="/finit.html">homepage</a></p>

<p><img src="/images/finit3.png" alt="Finit3 logo" /></p>

<p>Gorgeous, isn&rsquo;t it?! ðŸ˜Ž</p>

<p>This fancy artwork means we&rsquo;re nearing the end of a long and agonizing
release cycle where a lot of the internals of Finit have been rewritten
and new exciting features have been added!  More on this in an upcoming
post ðŸ˜ƒ</p>

<!--
  -- Local Variables:
  -- mode: markdown
  -- End:
  -->

                
              </div>

              
            </article>
          
            <article class="post-preview">
              <a href="/2016/09/02/the-general-idea/">
                <h2 class="post-title">The General Idea</h2>
                
                
              </a>

              <span class="post-meta">
  
  
  <i class="fa fa-calendar-o"></i>&nbsp;Posted on September 2, 2016
  
  
  
</span>


              <div class="post-entry">
                
                  OK, so here&rsquo;s the general idea: take one teaspoon of a well equipped SBC with Marvell chips you know well, add an awesome WiFi hotspot with USB connection, stir feverishly for several weekends in a row, then sprinkle some AlpineLinux and a custom kernel on top. Enjoy!
I have no clue if this will actually work, may even try porting my own little thing called TroglOS to the ClearFog first, I don&rsquo;t know, but it will definitely be awesome!
                  <a href="/2016/09/02/the-general-idea/" class="post-read-more">[Read More]</a>
                
              </div>

              
            </article>
          
            <article class="post-preview">
              <a href="/2016/08/18/live-kvm-migration-with-virt-manager/">
                <h2 class="post-title">Live KVM migration with virt-manager</h2>
                
                
              </a>

              <span class="post-meta">
  
  
  <i class="fa fa-calendar-o"></i>&nbsp;Posted on August 18, 2016
  
  
  
</span>


              <div class="post-entry">
                
                  <p>With the new servers and my server room shaping up, I&rsquo;ve been working on
setting up ALL THE THINGS!  I just managed to set up live migration of
the KVM virtual machines I use for testing my <a href="https://en.wikipedia.org/wiki/Free_and_open-source_software">FLOSS</a> projects.  Here
is a short writeup of that, just as a reminder for myself.</p>

<h2 id="checklist">Checklist</h2>

<ol>
<li>Make sure the libvirt versions are the same.  I tried setting up
migration between CentOS 7.2 and and Ubuntu LTS 16.04 which turned
out to be a mess of insurmountable incompatibilities.  I&rsquo;ve now gone
back to run Ubuntu on everything and it all works fine.</li>
<li>Set up NFS for the backend store of <code>/var/lib/libvirt/images</code>.  Make
sure to export the share properly, I tried first with my ReadyNAS, but
couldn&rsquo;t set up root access (defaulted to nobody).</li>
<li>Set up VM disk caching=none</li>
<li>Set up VM processor model=default</li>
<li>Profit</li>
</ol>

<p>Good Luck! :)</p>

<p></p>
                  <a href="/2016/08/18/live-kvm-migration-with-virt-manager/" class="post-read-more">[Read More]</a>
                
              </div>

              
            </article>
          
            <article class="post-preview">
              <a href="/2016/08/13/fake-raid-adventures/">
                <h2 class="post-title">Fake RAID Adventures</h2>
                
                
              </a>

              <span class="post-meta">
  
  
  <i class="fa fa-calendar-o"></i>&nbsp;Posted on August 13, 2016
  
  
  
</span>


              <div class="post-entry">
                
                  <p>The other day I got my geeky hands on two old SuperMicro X8STI-F 1U
servers.  I plan to use them as build and embedded target emulation
servers for my <a href="https://github.com/troglobit">open source projects</a>
as well as Minecraft server for my kids :)</p>

<p><img src="http://eitc.in/yahoo_site_admin/assets/docs/Supermicro_SuperServer_SC512L_small.324203750.JPG"></p>

<p></p>
                  <a href="/2016/08/13/fake-raid-adventures/" class="post-read-more">[Read More]</a>
                
              </div>

              
            </article>
          
            <article class="post-preview">
              <a href="/2016/07/03/upgrade-x1-carbon-bios-from-linux/">
                <h2 class="post-title">Upgrade X1 Carbon BIOS from Linux</h2>
                
                
              </a>

              <span class="post-meta">
  
  
  <i class="fa fa-calendar-o"></i>&nbsp;Posted on July 3, 2016
  
  
  
</span>


              <div class="post-entry">
                
                  <p>This is a very brief writeup of how to upgrade the BIOS on a X1 Carbon
(G1) from Linux.  For more information on this topic there is always the
excellent <a href="http://www.thinkwiki.org/wiki/BIOS_Upgrade">ThinkWiki</a>.</p>

<p>OK, this post is more about creating the bootable USB stick needed, was
too much of a chicken to try <a href="https://www.flashrom.org/Flashrom">Flashrom</a> &hellip;</p>

<p></p>
                  <a href="/2016/07/03/upgrade-x1-carbon-bios-from-linux/" class="post-read-more">[Read More]</a>
                
              </div>

              
            </article>
          
            <article class="post-preview">
              <a href="/2016/07/02/redirecting-tcp-udp-ports-for-fun-and-profit/">
                <h2 class="post-title">Redirecting Ports For Fun and Profit</h2>
                
                
              </a>

              <span class="post-meta">
  
  
  <i class="fa fa-calendar-o"></i>&nbsp;Posted on July 2, 2016
  
  
  
</span>


              <div class="post-entry">
                
                  <p>Recently I needed a simple TCP/UDP port redirector and stumbled upon
<a href="https://serverfault.com/questions/252150/port-forwarding-on-linux-without-iptables/">this Stackoverflow post</a>.  As usual I wasn&rsquo;t first wanting to this
without using <code>iptables</code>.</p>

<p>There were several alternatives, but since my target was embedded with
limited amount of RAM and flash I wanted something really small.  So the
best fit turned out to be <a href="https://github.com/troglobit/redir">redir</a>, which unfortunately only could
handle TCP connections.  This is what led me to write <a href="https://github.com/troglobit/uredir">uredir</a> to
complement <code>redir</code>.  Eventually I ended up adoptiing <code>redir</code> as well,
which meant giving it a bit of a facelift and to give them both the same
look and feel.</p>

<p>Currently they are two separate applications, which in some use-cases
can be beneficial (small size), but I may in the future transplant the
UDP functionality of <code>uredir</code> into <code>redir</code>.  We&rsquo;ll see, right now though
I have several other <a href="/projects/">projects</a> to attend to :-)</p>

<p></p>
                  <a href="/2016/07/02/redirecting-tcp-udp-ports-for-fun-and-profit/" class="post-read-more">[Read More]</a>
                
              </div>

              
            </article>
          
        </div>

        
          <ul class="pager main-pager">
            
              <li class="previous">
                <a href="/page/2/">&larr; Newer Posts</a>
              </li>
            
            
              <li class="next">
                <a href="/page/4/">Older Posts &rarr;</a>
              </li>
            
          </ul>
        
      </div>
    </div>
  </div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:troglobit@gmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://plus.google.com/&#43;JoachimNilsson" title="Google&#43;">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-google-plus fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/troglobit" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/troglobit" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            
            <a href="/index.xml" title="RSS">
            
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="http://troglobit.com">Joachim Nilsson</a>
            
          

          &nbsp;&bull;&nbsp;
          2019

          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.47.1</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="/js/main.js"></script><script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script>
<script src="/js/load-photoswipe.js"></script>






  </body>
</html>

