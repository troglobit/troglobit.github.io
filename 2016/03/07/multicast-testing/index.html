<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Joachim Wiberg ">
<meta name="description" content="For the better part of the last ten years I have been working with multicast in one way or another. I&amp;rsquo;ve used many different tools for testing, but on most systems I usually resort to ping(1) and tcpdump(1), which are quite sufficient. However, you often need to tell bridges (switches) to open up multicast in your general direction for your pings to get through, so you need to send an IGMP &amp;ldquo;join&amp;rdquo; first.
Way back in 2006 I stumbled upon a neat tool called mcjoin, written by David Stevens and announced in this posting to LKML. I started improving and adding features to it over the years.
" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://troglobit.com/2016/03/07/multicast-testing/" />


    <title>
        
            Multicast testing, made easy! :: Joachim Wiberg 
        
    </title>





<link rel="stylesheet" href="https://troglobit.com/main.949191c1dcc9c4a887997048b240354e47152016d821198f89448496ba42e491.css" integrity="sha256-lJGRwdzJxKiHmXBIskA1TkcVIBbYIRmPiUSElrpC5JE=">



    <link rel="apple-touch-icon" sizes="180x180" href="https://troglobit.com/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://troglobit.com/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://troglobit.com/favicon-16x16.png">
    <link rel="manifest" href="https://troglobit.com/site.webmanifest">
    <link rel="mask-icon" href="https://troglobit.com/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="https://troglobit.com/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="Multicast testing, made easy!">
<meta itemprop="description" content="For the better part of the last ten years I have been working with
multicast in one way or another.  I&rsquo;ve used many different tools for
testing, but on most systems I usually resort to ping(1) and
tcpdump(1), which are quite sufficient.  However, you often need to
tell bridges (switches) to open up multicast in your general direction
for your pings to get through, so you need to send an IGMP &ldquo;join&rdquo; first.
Way back in 2006 I stumbled upon a neat tool called mcjoin, written by
David Stevens and announced in
this posting to LKML.  I started
improving and adding features to it over the years."><meta itemprop="datePublished" content="2016-03-07T01:06:02+00:00" />
<meta itemprop="dateModified" content="2016-03-07T01:06:02+00:00" />
<meta itemprop="wordCount" content="382">
<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Multicast testing, made easy!"/>
<meta name="twitter:description" content="For the better part of the last ten years I have been working with
multicast in one way or another.  I&rsquo;ve used many different tools for
testing, but on most systems I usually resort to ping(1) and
tcpdump(1), which are quite sufficient.  However, you often need to
tell bridges (switches) to open up multicast in your general direction
for your pings to get through, so you need to send an IGMP &ldquo;join&rdquo; first.
Way back in 2006 I stumbled upon a neat tool called mcjoin, written by
David Stevens and announced in
this posting to LKML.  I started
improving and adding features to it over the years."/>



    <meta property="og:title" content="Multicast testing, made easy!" />
<meta property="og:description" content="For the better part of the last ten years I have been working with
multicast in one way or another.  I&rsquo;ve used many different tools for
testing, but on most systems I usually resort to ping(1) and
tcpdump(1), which are quite sufficient.  However, you often need to
tell bridges (switches) to open up multicast in your general direction
for your pings to get through, so you need to send an IGMP &ldquo;join&rdquo; first.
Way back in 2006 I stumbled upon a neat tool called mcjoin, written by
David Stevens and announced in
this posting to LKML.  I started
improving and adding features to it over the years." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://troglobit.com/2016/03/07/multicast-testing/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-03-07T01:06:02+00:00" />
<meta property="article:modified_time" content="2016-03-07T01:06:02+00:00" />





    <meta property="article:section" content="multicast" />

    <meta property="article:section" content="unix" />



    <meta property="article:published_time" content="2016-03-07 01:06:02 &#43;0000 UTC" />











    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://troglobit.com/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">&gt;</span>
            <span class="logo__text ">
                $ cd /home/</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://troglobit.com/about/">About</a></li><li><a href="https://troglobit.com/posts/">Blog</a></li><li><a href="https://troglobit.com/howtos/">HowTos</a></li><li><a href="https://troglobit.com/projects/">Projects</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        2 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://troglobit.com/2016/03/07/multicast-testing/">Multicast testing, made easy!</a>
      </h1>

      

      

      

      <div class="post-content">
        <p>For the better part of the last ten years I have been working with
multicast in one way or another.  I&rsquo;ve used many different tools for
testing, but on most systems I usually resort to <code>ping(1)</code> and
<code>tcpdump(1)</code>, which are quite sufficient.  However, you often need to
tell bridges (switches) to open up multicast in your general direction
for your pings to get through, so you need to send an IGMP &ldquo;join&rdquo; first.</p>
<p>Way back in 2006 I stumbled upon a neat tool called <code>mcjoin</code>, written by
David Stevens and announced in
<a href="https://lkml.org/lkml/2004/8/5/143">this posting to LKML</a>.  I started
improving and adding features to it over the years.</p>
<p>Now, my interest and fascination with multicast only grew with time,
and despite elegant tools like <code>mgen(1)</code> and <code>omping(1)</code> I was never
quite happy.</p>
<p>When releasing SMCRoute v2.1.0 recently, and currently working on the
pimd v2.3.2 release, I was so tired of having to do so many manual steps
just to verify correct operation of a routing daemon.  Therefore I spent
the better part of the past weekend fixing up my old mcjoin tool.</p>
<p>I wanted a reliable, simple, and UNIX-y tool to just test things for me.
So I cleaned up the old mcjoin project, first by migrating it from the
toolbox repo, removing confusing command line options, improving and
simplifying the syntax, and then I added send/receive capabilities.</p>
<p>I&rsquo;ve been meaning to get around to this for ages, and now it seems I had
finally had enough.  So here it is, v2.0:</p>
<p><strong>Project</strong>: <a href="https://github.com/troglobit/mcjoin/">https://github.com/troglobit/mcjoin/</a><br>
<strong>ChangeLog</strong>: <a href="https://github.com/troglobit/mcjoin/releases/tag/v2.0">https://github.com/troglobit/mcjoin/releases/tag/v2.0</a></p>
<p>Most of the time I simply want to see a resulting IGMP join message in
Wireshark, watch a group entry pop up in a switch&rsquo;s FDB or a routing
daemon&rsquo;s forwarding table.  So, join is the default operation, and also
continues to be the name of the tool.  My favourite testing group is set
as the default, 225.1.2.3, so you only need to start the tool and you&rsquo;re
off.  To send to the same default group (225.1.2.3), simply add <code>-s</code> to
the sender side.</p>
<pre><code>sender$ mcjoin -s
^C
sender$

receiver$ mcjoin
joined group 225.1.2.3 on eth0 ...
..................................................................^C
Received total: 66 packets
receiver$
</code></pre>
<p>If you ever need anything else, e.g. routing multicast, there&rsquo;s even a
man page.  It mentions setting the TTL and other such nastiness :)</p>
<!--
  -- Local Variables:
  -- mode: markdown
  -- End:
  -->
      </div>
    </article>

    <hr />

    <div class="post-info">
      
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="https://troglobit.com/categories/multicast/">multicast</a></span>
        <span class="tag"><a href="https://troglobit.com/categories/unix/">unix</a></span>
        
    </p>


      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        382 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2016-03-07 02:06
        

         
          
        
      </p>
    </div>

    
    <div class="pagination">
        

        <div class="pagination__buttons">
            
            <span class="button previous">
                <a href="https://troglobit.com/2016/03/07/testing-multicast-with-docker/">
                    <span class="button__icon">←</span>
                    <span class="button__text">Testing multicast with Docker</span>
                </a>
            </span>
            

            
            <span class="button next">
                <a href="https://troglobit.com/2015/11/13/en-vanlig-dag-pa-jobbet-swedish/">
                    <span class="button__text">En vanlig dag på jobbet (SWEDISH)</span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

    

  </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2006</span>
            <span><a href="https://troglobit.com/">Joachim Wiberg</a></span>
            <span>UNIX&trade; 4Life! &#9994;</span>
            
            
        </div>
    </div>
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="https://troglobit.com/bundle.min.46e438bd2eca7eb6358c700b40f6f56b22ab0b92503ecc11a2d8e4bcc610b8b4da83e5ea3d3e84fdb5f3c3c765744b9f5bbaf43cf5a027910be07ee39a9c12a1.js" integrity="sha512-RuQ4vS7KfrY1jHALQPb1ayKrC5JQPswRotjkvMYQuLTag&#43;XqPT6E/bXzw8dldEufW7r0PPWgJ5EL4H7jmpwSoQ=="></script>




    </body>
</html>
