
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Fast, Extensible Init for Linux Systems - Troglobit</title>
  <meta name="author" content="Joachim Nilsson">

  
  <meta name="description" content="Fast, Extensible Init for Linux Systems Oct 16th, 2015 11:42 pm Finit is a small event based SysV init replacement with built-in
process supervision &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://troglobit.github.io/finit.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Troglobit" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/favicon.png" rel="icon">
<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Troglobit</a></h1>
  
    <h2>&#8220;Elegance is not a dispensable luxury&#8221; &mdash; Edsger Wybe Dijkstra</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="troglobit.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="http://resume.troglobit.com">Resume</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="http://git.troglobit.com">GIT</a></li>
  <li><a href="/finit.html">Finit</a></li>
  <li><a href="/inadyn.html">Inadyn</a></li>
  <li><a href="/smcroute.html">SMCRoute</a></li>
  <li><a href="/mrouted.html">mrouted</a></li>
  <li><a href="/pimd.html">pimd</a></li>
  <li><a href="/uftpd.html">uftpd</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">Fast, Extensible Init for Linux Systems</h1>
    <p class="meta">




<time class='entry-date' datetime='2015-10-16T23:42:00+02:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>11:42 pm</span></time></p>
  </header>
  
  <p><a href="https://github.com/troglobit/finit"><img style="position: absolute; top: 0; right: 0; border: none; box-shadow: none;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a></p>

<p><img class="right" src="/images/finit.jpg" width="456" height="120"></p>

<p>Finit is a small event based <a href="https://en.wikipedia.org/wiki/Init">SysV init</a> replacement with built-in
<a href="https://en.wikipedia.org/wiki/Process_supervision">process supervision</a> similar to that of its more famous cousins
<a href="http://cr.yp.to/daemontools.html">daemontools</a> and <a href="http://smarden.org/runit/">runit</a>.  <em>Services are supervised and
automatically restarted if they fail</em>.</p>

<p>Finit targets small and embedded Linux systems by heavily reducing the
amount of context switches, forks, and calls to external tools that most
other init daemons suffer from.</p>

<p>Finit supports basic runlevels, process monitoring, and can launch
services on demand &ndash; either with the built-in inetd support, or by
triggering on Linux Netlink events like <code>IFUP</code>, <code>IFDN</code> or <code>GW</code>.</p>

<p>Finit can also be extended with custom callbacks for all services, hooks
into the boot process, or plugins to extend the functionality and adapt
the boot process to fit your needs.  See the <a href="https://github.com/troglobit/finit/blob/master/README.md">README</a> for details.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
</pre></td><td class='code'><pre><code class='apache'><span class='line'><span class="c"># /etc/finit.conf - System bootstrap for TroglOS</span>
</span><span class='line'><span class="nb">user</span> root
</span><span class='line'><span class="nb">host</span> default
</span><span class='line'>
</span><span class='line'><span class="c"># Default runlevel</span>
</span><span class='line'><span class="nb">runlevel</span> <span class="m">2</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Launch bootstrap services</span>
</span><span class='line'><span class="nb">service</span> [S12345] <span class="sx">/sbin/watchdogd</span> -L -f                      -- System watchdog daemon
</span><span class='line'><span class="nb">service</span> [S12345] <span class="sx">/sbin/syslogd</span> -n -b <span class="m">3</span> -D                   -- System log daemon
</span><span class='line'><span class="nb">service</span> [S12345] <span class="sx">/sbin/klogd</span> -n                             -- Kernel log daemon
</span><span class='line'>
</span><span class='line'><span class="c"># Services must not daemonize themselves, look for --foreground or</span>
</span><span class='line'><span class="c"># similar switches to standard services.</span>
</span><span class='line'><span class="c">#service [2345] /sbin/inetd -f                               -- Internet super daemon</span>
</span><span class='line'><span class="nb">service</span> :1 [2345] &lt;!IFUP:eth0,GW&gt; <span class="sx">/sbin/dropbear</span> -R -F -p <span class="m">22</span> -- SSH daemon
</span><span class='line'><span class="c">#service :2 [345] /sbin/dropbear -R -F -p 222                -- SSH daemon</span>
</span><span class='line'><span class="c">#service [2345] /sbin/telnetd -F                             -- Telnet daemon</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Network bringup script</span>
</span><span class='line'><span class="nb">network</span> <span class="sx">/etc/init.d/networking</span>
</span><span class='line'>
</span><span class='line'><span class="c"># System patch or extension scripts, see run-parts(8).</span>
</span><span class='line'><span class="nb">runparts</span> <span class="sx">/mnt/start.d</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Inetd services</span>
</span><span class='line'><span class="nb">inetd</span> ftp/tcp                   nowait [2345] <span class="sx">/sbin/uftpd</span> -i -f       -- FTP daemon
</span><span class='line'><span class="nb">inetd</span> tftp/udp                    wait [2345] <span class="sx">/sbin/uftpd</span> -i -y       -- TFTP daemon
</span><span class='line'><span class="nb">inetd</span> time/udp                    wait [2345] internal                -- UNIX rdate service
</span><span class='line'><span class="nb">inetd</span> time/tcp                  nowait [2345] internal                -- UNIX rdate service
</span><span class='line'><span class="nb">inetd</span> <span class="m">3737</span><span class="sx">/tcp</span>                  nowait [2345] internal.time           -- UNIX rdate service
</span><span class='line'><span class="nb">inetd</span> telnet/tcp@*,!eth1,!eth0, nowait [2345] <span class="sx">/sbin/telnetd</span> -i -F     -- Telnet daemon
</span><span class='line'><span class="nb">inetd</span> <span class="m">2323</span><span class="sx">/tcp</span>@eth1,eth2,eth0   nowait [2345] <span class="sx">/sbin/telnetd</span> -i -F     -- Telnet daemon
</span><span class='line'><span class="c">#inetd 222/tcp@eth0              nowait [2345] /sbin/dropbear -i -R -F -- SSH service</span>
</span><span class='line'><span class="c">#inetd ssh/tcp@*,!eth0           nowait [2345] /sbin/dropbear -i -R -F -- SSH service</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Allow login on ttyUSB0, for systems with no dedicated console port</span>
</span><span class='line'><span class="nb">tty</span> [12345] <span class="sx">/dev/ttyAMA0</span> <span class="m">115200</span> vt100
</span><span class='line'><span class="nb">tty</span> [12345] <span class="sx">/dev/ttyUSB0</span> <span class="m">115200</span> vt100
</span><span class='line'><span class="nb">console</span> <span class="sx">/dev/ttyAMA0</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/finit-screenshot.jpg" width="676" height="709" title="'Finit Screenshot'" ></p>

<p>See <a href="https://github.com/troglobit/troglos">TroglOS</a> for an example of how to boot a small embedded system
with Finit.</p>

<hr />

<p>This project is the continuation of the <a href="http://helllabs.org/finit/">original finit</a> by Claudio
Matsuoka, which was reverse engineered from syscalls of the
groundbreaking <a href="http://wiki.eeeuser.com/boot_process:the_boot_process">EeePC fastinit</a> daemon &ndash; &ldquo;gaps filled with frog DNA
&hellip;&rdquo;</p>

<p>Issue tracker and GIT repository available at GitHub:</p>

<ul>
<li><a href="http://github.com/troglobit/finit">Repository</a></li>
<li><a href="https://github.com/troglobit/finit/blob/master/CHANGELOG.md">CHANGELOG</a></li>
<li><a href="https://github.com/troglobit/finit/blob/master/README.md">README</a></li>
<li><a href="https://github.com/troglobit/finit/blob/master/TODO.md">TODO</a></li>
<li><a href="http://github.com/troglobit/finit/issues">Issue Tracker</a></li>
<li><a href="ftp://troglobit.com/finit/finit-2.1.tar.xz">finit-2.1.tar.xz</a>,
<a href="ftp://troglobit.com/finit/finit-2.1.tar.xz.md5">MD5</a></li>
</ul>


<p>See also the <a href="http://freecode.com/projects/finit">Free(code) page</a>.</p>

  
    <footer>
      <p class="meta">
        
        




<time class='entry-date' datetime='2015-10-16T23:42:00+02:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>11:42 pm</span></time>
        
      </p>
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://troglobit.github.io/finit.html" data-via="troglobit" data-counturl="http://troglobit.github.io/finit.html" >Tweet</a>
  
  
  
</div>

      
    </footer>
  
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Projects</h1>
  <ul>
    <li><a href="/finit.html">Fast Init Replacement</a></li>
    <li><a href="/inadyn.html">Inadyn DDNS Client</a></li>
    <li><a href="/smcroute.html">SMCRoute Static Multicast Routing</a></li>
    <li><a href="/mrouted.html">The Original Multicast Routing Daemon</a></li>
    <li><a href="/pimd.html">The Original PIM-SM Daemon</a></li>
    <li><a href="/uftpd.html">Micro TFTP/FTP Daemon</a></li>
    <li><a href="/tetris.html">Micro Tetris&trade;</a></li>
    <li><a href="/snake.html">Micro Snake</a></li>
    <li><a href="/editline.html">Minix Editline</a></li>
    <li><a href="/mini-snmpd.html">Mini-SNMPd</a></li>
  </ul>
</section>
<section>
  <h1>HowTos</h1>
  <ul>
    <li><a href="/multicast-howto.html">Multicast</a></li>
    <li><a href="/blog/2014/09/23/howto-add-multicast-routing-support-to-the-freebsd-kernel/">Add MROUTING support on FreeBSD</a></li>
    <li><a href="/howto-run-pimd-on-openbsd.html">Run pimd on OpenBSD</a></li>
    <li><a href="/howto-run-pimd-on-freebsd.html">Run pimd on FreeBSD</a></li>
    <li><a href="/howto-netbsd-pkgsrc.html">Use pre-build packages on NetBSD</a></li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/11/07/stray-puppies/">Stray Puppies</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/09/09/summer-of-code-2015/">Summer of Code 2015</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/02/howto-using-lite-with-a-git-based-application/">HowTo: Using -lite With a GIT-based Application</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/01/howto-push-to-multiple-git-repos-with-one-command/">HowTo: Push to Multiple GIT Repos With One Command</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/30/howto-apache-with-gitweb-on-debian-8-dot-1/">HowTo: Apache With Gitweb on Debian 8.1</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/troglobit">@troglobit</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'troglobit',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
  <h1>Latest Tweets</h1>

  <a class="twitter-timeline" data-dnt="true"
     href="https://twitter.com/troglobit"
     data-widget-id="365667052100415488">Tweets by @troglobit</a>
  <script>!function(d,s,id){var
    js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>




  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Joachim Nilsson -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
